{"version":3,"file":"webmap.esm-browser.js","sources":["../src/container.ts","../src/components/controls/createToggleControl.ts","../../expression/src/utils/evaluateArgs.ts","../../expression/src/expressions/decisionExpressions.ts","../../expression/src/constants/colors.ts","../../expression/src/utils/color.ts","../../expression/src/expressions/interpolationExpressions/interpolate.ts","../../expression/src/expressions/interpolationExpressions/step.ts","../../expression/src/expressions/interpolationExpressions/index.ts","../../expression/src/expressions/lookupExpressions.ts","../../expression/src/expressions/mathExpressions.ts","../../expression/src/expressions/stringExpressions.ts","../../expression/src/utils/tryConvert.ts","../../expression/src/utils/fallback.ts","../../expression/src/expressions/typeExpressions.ts","../../expression/src/expression.ts","../../paint/src/fromPaintExpression.ts","../../properties-filter/src/propertiesFilter.ts","../../paint/src/typeHelpers.ts","../../paint/src/preparePaint.ts","../../utils/src/debug/debugLog.ts","../../utils/src/deepmerge.ts","../../utils/src/defined.ts","../../utils/src/deprecated/deprecatedMapClick.ts","../../utils/src/geom/checkExtent.ts","../../utils/src/geom/getBoundsPolygon.ts","../src/utils/geometryTypes.ts","../src/utils/updateGeoJsonAdapterOptions.ts","../src/components/keys/KeysCodes.ts","../src/components/keys/Keys.ts","../src/components/mapStates/StateItem.ts","../src/components/mapStates/BoundState.ts","../src/components/mapStates/CenterState.ts","../src/components/mapStates/ZoomState.ts","../src/utils/clearObject.ts","../src/WebMapMain.ts","../src/WebMapLayers.ts","../src/WebMapControls.ts","../src/WebMap.ts","../src/utils/getDefaultControls.ts","../src/index.ts"],"sourcesContent":["import type { WebMap } from './WebMap';\n\nconst WEB_MAP_CONTAINER: Record<number, any> = {};\n\nexport function getWebMap<T extends WebMap = WebMap>(id: number): T {\n  return WEB_MAP_CONTAINER[id];\n}\n\nexport function setWebMap(id: number, webMap: WebMap) {\n  WEB_MAP_CONTAINER[id] = webMap;\n}\n","import type {\n  ButtonControlOptions,\n  ToggleControl,\n  ToggleControlOptions,\n} from '../../interfaces/MapControl';\n\n/**\n * The toggle is a button with status.\n * @internal\n */\nexport function createToggleControl<C = any>(\n  createButtonControl: (options: ButtonControlOptions) => C,\n  options: ToggleControlOptions,\n): C & ToggleControl {\n  const link = document.createElement('div');\n\n  let status = false;\n  if (options.getStatus) {\n    status = options.getStatus();\n  } else if (options.status) {\n    status = options.status;\n  }\n\n  const title = options.title || '';\n  const html = options.html;\n\n  function setTitle() {\n    if (title) {\n      if (typeof title === 'string') {\n        link.title = title;\n      } else {\n        link.title = status ? title.on : title.off;\n      }\n      link.setAttribute('aria-label', link.title);\n    }\n  }\n  setTitle();\n\n  // DomEvent.disableClickPropagation(link);\n  // DomEvent.on(link, 'click', DomEvent.stop);\n\n  function _setHtml(htmlDef: string | HTMLElement) {\n    if (htmlDef instanceof HTMLElement) {\n      link.innerHTML = '';\n      link.appendChild(htmlDef);\n    } else if (typeof htmlDef === 'string') {\n      link.innerHTML = htmlDef;\n    }\n  }\n  function setHtml() {\n    if (html) {\n      if (typeof html === 'string' || html instanceof HTMLElement) {\n        _setHtml(html);\n      } else {\n        _setHtml(status ? html.on : html.off);\n      }\n      link.setAttribute('aria-label', link.title);\n    }\n  }\n  setHtml();\n\n  function _setClass(addClass: string, impact: boolean) {\n    addClass.split(' ').forEach((x) => {\n      if (impact) {\n        link.classList.add(x);\n      } else {\n        link.classList.remove(x);\n      }\n    });\n  }\n\n  function setClass() {\n    if (options.addClassOn) {\n      _setClass(options.addClassOn, status);\n    }\n    if (options.addClassOff) {\n      _setClass(options.addClassOff, !status);\n    }\n  }\n\n  if (options.addClass) {\n    _setClass(options.addClass, true);\n  }\n  setClass();\n\n  const changeStatus = (status_?: boolean) => {\n    if (status_ !== undefined) {\n      status = status_;\n    }\n    setHtml();\n    setTitle();\n    setClass();\n  };\n\n  const onClick = (status_?: boolean) => {\n    status = status_ !== undefined ? status_ : !status;\n    if (options.onClick) {\n      const afterClick = options.onClick(status);\n      Promise.resolve(afterClick)\n        .then(() => changeStatus())\n        .catch(() => (status = !status));\n    } else {\n      changeStatus();\n    }\n  };\n\n  const buttonControl = createButtonControl({\n    html: link,\n    onClick,\n  }) as C & ToggleControl;\n  buttonControl.onClick = onClick;\n  buttonControl.changeStatus = changeStatus;\n  return buttonControl;\n}\n","import type {\n  ExpressionCbFunc,\n  ExpressionFunc,\n  MapToCallback,\n  SimpleType,\n} from '../interfaces';\n\nexport default function evaluateArgs<\n  T extends SimpleType[] = SimpleType[],\n  R = T[0],\n>(cb: ExpressionFunc<T, R>): ExpressionCbFunc<T, R> {\n  return (args: MapToCallback<T>, data) => {\n    const unwrap = args.map((a) => a()) as T;\n    return cb(unwrap, data);\n  };\n}\n","import e from '../utils/evaluateArgs';\n\nimport type { DecisionExpressionName, ExpressionCbFunc } from '../interfaces';\n\nfunction not([expr]: [boolean]): boolean {\n  return !expr;\n}\n\nfunction notEqual([a, b]: [value1: any, value2: any]): boolean {\n  return a !== b;\n}\n\nfunction lessThan([left, right]: [value1: any, value2: any]): boolean {\n  return left < right;\n}\n\nfunction lessThanOrEqual([left, right]: [value1: any, value2: any]): boolean {\n  return left <= right;\n}\n\nfunction equal([left, right]: [value1: any, value2: any]): boolean {\n  return left === right;\n}\n\nfunction greaterThan([left, right]: [value1: any, value2: any]): boolean {\n  return left > right;\n}\n\nfunction greaterThanOrEqual([left, right]: [\n  value1: any,\n  value2: any,\n]): boolean {\n  return left >= right;\n}\n\nconst coalesce: ExpressionCbFunc<any[], any> = (args) => {\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i]();\n    if (arg !== null && arg !== undefined) {\n      return arg;\n    }\n  }\n  return null;\n};\n\nconst all: ExpressionCbFunc<any[], boolean> = (args) => {\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i]();\n    if (!arg) {\n      return false;\n    }\n  }\n  return true;\n};\n\nconst any: ExpressionCbFunc<any[], boolean> = (args) => {\n  for (let i = 0; i < args.length; i++) {\n    const arg = args[i]();\n    if (arg) {\n      return true;\n    }\n  }\n  return false;\n};\n\nconst match: ExpressionCbFunc<any[]> = (args) => {\n  const [lookupFn, ...cases] = args;\n  const lookup = lookupFn();\n  // remove last odd item from cases array\n  const defValue = cases.splice(-1, cases.length % 2)[0];\n  for (let fry = 0; fry < cases.length - 1; fry += 2) {\n    const key = cases[fry]();\n    if (key === lookup) {\n      return cases[fry + 1]();\n    }\n  }\n  return defValue();\n};\n\ntype OutputType = any;\nconst caseFunc: ExpressionCbFunc<\n  [boolean, OutputType, ...Array<boolean | OutputType>],\n  OutputType\n> = (args) => {\n  if (args.length < 2) {\n    throw new Error(\n      'The \"case\" function requires at least a condition and a corresponding output.',\n    );\n  }\n\n  if (args.length % 2 === 0) {\n    throw new Error(\n      'Missing a fallback value or unmatched condition-output pair.',\n    );\n  }\n  for (let i = 0; i < args.length - 1; i += 2) {\n    const condition = args[i]() as boolean;\n    const value = args[i + 1]() as OutputType;\n    if (condition) {\n      return value;\n    }\n  }\n  const fallback = args[args.length - 1];\n  return fallback();\n};\n\nexport const decisionExpressions: Record<\n  DecisionExpressionName,\n  ExpressionCbFunc\n> = {\n  '!': e(not),\n  '!=': e(notEqual),\n  '<': e(lessThan),\n  '<=': e(lessThanOrEqual),\n  '==': e(equal),\n  '>': e(greaterThan),\n  '>=': e(greaterThanOrEqual),\n  coalesce,\n  all,\n  any,\n  case: caseFunc,\n  match,\n};\n","export const COLORS = {\n  aliceblue: '#f0f8ff',\n  antiquewhite: '#faebd7',\n  aqua: '#00ffff',\n  aquamarine: '#7fffd4',\n  azure: '#f0ffff',\n  beige: '#f5f5dc',\n  bisque: '#ffe4c4',\n  black: '#000000',\n  blanchedalmond: '#ffebcd',\n  blue: '#0000ff',\n  blueviolet: '#8a2be2',\n  brown: '#a52a2a',\n  burlywood: '#deb887',\n  cadetblue: '#5f9ea0',\n  chartreuse: '#7fff00',\n  chocolate: '#d2691e',\n  coral: '#ff7f50',\n  cornflowerblue: '#6495ed',\n  cornsilk: '#fff8dc',\n  crimson: '#dc143c',\n  cyan: '#00ffff',\n  darkblue: '#00008b',\n  darkcyan: '#008b8b',\n  darkgoldenrod: '#b8860b',\n  darkgray: '#a9a9a9',\n  darkgreen: '#006400',\n  darkkhaki: '#bdb76b',\n  darkmagenta: '#8b008b',\n  darkolivegreen: '#556b2f',\n  darkorange: '#ff8c00',\n  darkorchid: '#9932cc',\n  darkred: '#8b0000',\n  darksalmon: '#e9967a',\n  darkseagreen: '#8fbc8f',\n  darkslateblue: '#483d8b',\n  darkslategray: '#2f4f4f',\n  darkturquoise: '#00ced1',\n  darkviolet: '#9400d3',\n  deeppink: '#ff1493',\n  deepskyblue: '#00bfff',\n  dimgray: '#696969',\n  dodgerblue: '#1e90ff',\n  firebrick: '#b22222',\n  floralwhite: '#fffaf0',\n  forestgreen: '#228b22',\n  fuchsia: '#ff00ff',\n  gainsboro: '#dcdcdc',\n  ghostwhite: '#f8f8ff',\n  gold: '#ffd700',\n  goldenrod: '#daa520',\n  gray: '#808080',\n  green: '#008000',\n  greenyellow: '#adff2f',\n  honeydew: '#f0fff0',\n  hotpink: '#ff69b4',\n  'indianred ': '#cd5c5c',\n  indigo: '#4b0082',\n  ivory: '#fffff0',\n  khaki: '#f0e68c',\n  lavender: '#e6e6fa',\n  lavenderblush: '#fff0f5',\n  lawngreen: '#7cfc00',\n  lemonchiffon: '#fffacd',\n  lightblue: '#add8e6',\n  lightcoral: '#f08080',\n  lightcyan: '#e0ffff',\n  lightgoldenrodyellow: '#fafad2',\n  lightgrey: '#d3d3d3',\n  lightgreen: '#90ee90',\n  lightpink: '#ffb6c1',\n  lightsalmon: '#ffa07a',\n  lightseagreen: '#20b2aa',\n  lightskyblue: '#87cefa',\n  lightslategray: '#778899',\n  lightsteelblue: '#b0c4de',\n  lightyellow: '#ffffe0',\n  lime: '#00ff00',\n  limegreen: '#32cd32',\n  linen: '#faf0e6',\n  magenta: '#ff00ff',\n  maroon: '#800000',\n  mediumaquamarine: '#66cdaa',\n  mediumblue: '#0000cd',\n  mediumorchid: '#ba55d3',\n  mediumpurple: '#9370d8',\n  mediumseagreen: '#3cb371',\n  mediumslateblue: '#7b68ee',\n  mediumspringgreen: '#00fa9a',\n  mediumturquoise: '#48d1cc',\n  mediumvioletred: '#c71585',\n  midnightblue: '#191970',\n  mintcream: '#f5fffa',\n  mistyrose: '#ffe4e1',\n  moccasin: '#ffe4b5',\n  navajowhite: '#ffdead',\n  navy: '#000080',\n  oldlace: '#fdf5e6',\n  olive: '#808000',\n  olivedrab: '#6b8e23',\n  orange: '#ffa500',\n  orangered: '#ff4500',\n  orchid: '#da70d6',\n  palegoldenrod: '#eee8aa',\n  palegreen: '#98fb98',\n  paleturquoise: '#afeeee',\n  palevioletred: '#d87093',\n  papayawhip: '#ffefd5',\n  peachpuff: '#ffdab9',\n  peru: '#cd853f',\n  pink: '#ffc0cb',\n  plum: '#dda0dd',\n  powderblue: '#b0e0e6',\n  purple: '#800080',\n  rebeccapurple: '#663399',\n  red: '#ff0000',\n  rosybrown: '#bc8f8f',\n  royalblue: '#4169e1',\n  saddlebrown: '#8b4513',\n  salmon: '#fa8072',\n  sandybrown: '#f4a460',\n  seagreen: '#2e8b57',\n  seashell: '#fff5ee',\n  sienna: '#a0522d',\n  silver: '#c0c0c0',\n  skyblue: '#87ceeb',\n  slateblue: '#6a5acd',\n  slategray: '#708090',\n  snow: '#fffafa',\n  springgreen: '#00ff7f',\n  steelblue: '#4682b4',\n  tan: '#d2b48c',\n  teal: '#008080',\n  thistle: '#d8bfd8',\n  tomato: '#ff6347',\n  turquoise: '#40e0d0',\n  violet: '#ee82ee',\n  wheat: '#f5deb3',\n  white: '#ffffff',\n  whitesmoke: '#f5f5f5',\n  yellow: '#ffff00',\n  yellowgreen: '#9acd32',\n};\n","import { COLORS } from '../constants/colors';\n\nexport type ColorArray = [r: number, g: number, b: number, a?: number];\n\nexport type ColorObject = {\n  r: number;\n  g: number;\n  b: number;\n  a?: number;\n};\nexport type Color = string | ColorObject;\n\nfunction isHex(hex: any): hex is string {\n  return typeof hex === 'string' && /^#([A-Fa-f0-9]{3}){1,2}$/.test(hex);\n}\n\nfunction isRgb(hex: any): hex is string {\n  const r =\n    // eslint-disable-next-line max-len\n    /^rgb(a?)\\(\\s*([0-9]+)\\s*,\\s*([0-9]+)\\s*,\\s*([0-9]+)(?:\\s*,\\s*([01](?:\\.\\d+)?))?\\s*\\)$/;\n  return typeof hex === 'string' && r.test(hex);\n}\n\nfunction isColorObj(obj: any): obj is ColorObject {\n  if (typeof obj === 'object' && obj !== null) {\n    const hasRgb = 'r' in obj && 'g' in obj && 'b' in obj;\n    const hasValidAlpha =\n      !('a' in obj) || (typeof obj.a === 'number' && obj.a >= 0 && obj.a <= 1);\n    return hasRgb && hasValidAlpha;\n  }\n  return false;\n}\n\nfunction isColorName(name: any): name is keyof typeof COLORS {\n  if (typeof name === 'string' && name in COLORS) {\n    return true;\n  }\n  return false;\n}\n\nexport function isColor(value: any): value is Color {\n  return [isColorName, isHex, isRgb, isColorObj].some((c) => c(value));\n}\n\nexport function toColor(value: Color): ColorArray {\n  if (isHex(value)) {\n    return hexToColor(value);\n  } else if (isColorName(value)) {\n    return colorNameToColor(value);\n  } else if (isRgb(value)) {\n    return rgbToColor(value);\n  } else if (isColorObj(value)) {\n    return colorObjectToColor(value);\n  }\n  throw new Error(`The '${value}' cannot be converted to color`);\n}\n\nfunction colorNameToColor(name: keyof typeof COLORS) {\n  return hexToColor(COLORS[name]);\n}\n\nfunction hexToColor(hex: string): ColorArray {\n  const shortRGB = /^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/;\n  const shortRGBA = /^#([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])([0-9a-fA-F])$/;\n  const longRGB = /^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;\n  const longRGBA =\n    /^#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/;\n\n  let result;\n\n  if ((result = shortRGB.exec(hex))) {\n    return [\n      parseInt(result[1] + result[1], 16),\n      parseInt(result[2] + result[2], 16),\n      parseInt(result[3] + result[3], 16),\n    ];\n  } else if ((result = shortRGBA.exec(hex))) {\n    return [\n      parseInt(result[1] + result[1], 16),\n      parseInt(result[2] + result[2], 16),\n      parseInt(result[3] + result[3], 16),\n      parseInt(result[4] + result[4], 16) / 255,\n    ];\n  } else if ((result = longRGB.exec(hex))) {\n    return [\n      parseInt(result[1], 16),\n      parseInt(result[2], 16),\n      parseInt(result[3], 16),\n    ];\n  } else if ((result = longRGBA.exec(hex))) {\n    return [\n      parseInt(result[1], 16),\n      parseInt(result[2], 16),\n      parseInt(result[3], 16),\n      parseInt(result[4], 16) / 255,\n    ];\n  }\n  throw new Error(`The '${hex}' Is not valid hex`);\n}\n\nfunction rgbToColor(rgb: string): ColorArray {\n  const rgbPattern = /^rgb\\((\\d+),\\s*(\\d+),\\s*(\\d+)\\)$/;\n  const rgbaPattern = /^rgba\\((\\d+),\\s*(\\d+),\\s*(\\d+),\\s*([\\d.]+)\\)$/;\n\n  let matches;\n\n  if ((matches = rgb.match(rgbPattern))) {\n    return [\n      parseInt(matches[1], 10),\n      parseInt(matches[2], 10),\n      parseInt(matches[3], 10),\n    ];\n  } else if ((matches = rgb.match(rgbaPattern))) {\n    return [\n      parseInt(matches[1], 10),\n      parseInt(matches[2], 10),\n      parseInt(matches[3], 10),\n      parseFloat(matches[4]),\n    ];\n  }\n\n  throw new Error(`The '${rgb}' Is not valid rgb`);\n}\n\nexport function colorObjectToColor({ r, g, b, a }: ColorObject): ColorArray {\n  return [r, g, b, ...(a !== undefined ? [a] : [])] as ColorArray;\n}\n\nexport function colorToRGB(array: ColorArray): string {\n  return `rgb(${array.join(',')})`;\n}\n","import { type ColorArray, colorToRGB, toColor } from '../../utils/color';\n\nimport type { ExpressionCbFunc } from '../../interfaces';\n\ntype LinearInterpolation = ['linear'];\ntype ExponentialInterpolation = [name: 'exponential', base: number];\ntype CubicBezierInterpolation = [\n  name: 'cubic-bezier',\n  x1: number,\n  y1: number,\n  x2: number,\n  y2: number,\n];\ntype Interpolation =\n  | LinearInterpolation\n  | ExponentialInterpolation\n  | CubicBezierInterpolation;\n\ntype OutputType = any;\n\ntype InterpolateArgs = [\n  interpolation: Interpolation,\n  input: number,\n  ...stops: (number | OutputType)[],\n];\n\nfunction linearInterpolation(\n  input: number,\n  input1: number,\n  output1: OutputType,\n  input2: number,\n  output2: OutputType,\n): OutputType {\n  if (typeof output1 === 'number' && typeof output2 === 'number') {\n    return (\n      output1 + ((input - input1) / (input2 - input1)) * (output2 - output1)\n    );\n  }\n\n  try {\n    const outputColor1 = toColor(output1);\n    const outputColor2 = toColor(output2);\n    return colorToRGB(\n      outputColor1.map((val, index) => {\n        return Math.ceil(\n          linearInterpolation(input, input1, val, input2, outputColor2[index]),\n        );\n      }) as ColorArray,\n    );\n  } catch (er) {\n    console.log(er);\n  }\n\n  throw new Error('Unsupported output type for linear interpolation.');\n}\n\nexport const interpolate: ExpressionCbFunc<InterpolateArgs, OutputType> = ([\n  interpolationFn,\n  inputFn,\n  ...stops\n]) => {\n  if (stops.length < 2) {\n    throw new Error('At least two stops are required');\n  }\n  if (stops.length < 2 || stops.length % 2 !== 0) {\n    throw new Error('Invalid stops provided.');\n  }\n  const input = inputFn();\n\n  if (typeof input !== 'number') {\n    throw new Error('Input must be a number.');\n  }\n  const interpolation = interpolationFn();\n  for (let i = 0; i < stops.length - 2; i += 2) {\n    const stopInput1 = stops[i]() as number;\n    const stopOutput1 = stops[i + 1]() as OutputType;\n    const stopInput2 = stops[i + 2]() as number;\n    const stopOutput2 = stops[i + 3]() as OutputType;\n\n    if (input >= stopInput1 && input <= stopInput2) {\n      if (interpolation[0] === 'linear') {\n        return linearInterpolation(\n          input,\n          stopInput1,\n          stopOutput1,\n          stopInput2,\n          stopOutput2,\n        );\n      }\n      // else if (interpolation[0] === 'exponential') {\n      //   const base = interpolation[1];\n      //   return exponentialInterpolation(\n      //     input,\n      //     base,\n      //     stopInput1,\n      //     stopOutput1,\n      //     stopInput2,\n      //     stopOutput2,\n      //   );\n      // }\n    }\n  }\n\n  throw new Error('Invalid interpolation type.');\n};\n","import type { ExpressionCbFunc } from '../../interfaces';\n\ntype OutputType = number | string | boolean | null;\n\nexport const step: ExpressionCbFunc<(number | OutputType)[], OutputType> = (\n  args,\n) => {\n  const [inputFn, defaultValue, ...stops] = args;\n  const input = inputFn();\n\n  if (typeof input !== 'number') {\n    return defaultValue() as OutputType;\n  }\n\n  for (let i = 0; i < stops.length - 2; i += 2) {\n    const stopInput = stops[i]() as number;\n    const stopOutput = stops[i + 1]() as OutputType;\n    const nextStopInput = stops[i + 2]() as number;\n\n    if (input >= stopInput && input < nextStopInput) {\n      return stopOutput;\n    }\n  }\n\n  if (input >= (stops[stops.length - 2]() as number)) {\n    return stops[stops.length - 1]();\n  }\n\n  return defaultValue();\n};\n","import { interpolate } from './interpolate';\nimport { step } from './step';\n\nimport type {\n  ExpressionFunc,\n  InterpolationExpressionName,\n} from '../../interfaces';\n\nexport const interpolationExpressions: Record<\n  InterpolationExpressionName,\n  ExpressionFunc\n> = {\n  step,\n  interpolate,\n};\n","import e from '../utils/evaluateArgs';\n\nimport type {\n  Data,\n  ExpressionCbFunc,\n  LookupExpressionName,\n  SimpleType,\n} from '../interfaces';\n\ntype GetArg = [key: string] | [key: string, obj: Record<string, any>];\n\nfunction get([key, objExp]: GetArg, data: Data): SimpleType | null {\n  const target = objExp || data;\n  if (target && typeof target === 'object' && key in target) {\n    return target[key];\n  }\n  return null;\n}\n\nfunction has([key, objExp]: GetArg, data: Data): boolean {\n  const target = objExp || data;\n  return !!(target && typeof target === 'object' && key in target);\n}\n\nfunction at([index, array]: [index: number, array: any[]]): SimpleType {\n  return array[index];\n}\n\ntype InArgs = [keyword: string | boolean | number, input: string | any[]];\nfunction inFunc([keyword, input]: InArgs): boolean {\n  if (typeof input === 'string') {\n    return input.includes(String(keyword));\n  } else if (Array.isArray(input)) {\n    return input.includes(keyword);\n  }\n  throw new Error(\n    `Invalid input type for 'in'. Expected string or array, got ${typeof input}.`,\n  );\n}\n\nconst length = ([item]: [string | any[]]) => {\n  if (typeof item === 'string' || Array.isArray(item)) {\n    return item.length;\n  }\n  return undefined;\n};\n\ntype IndexOfArgs =\n  | [keyword: string | boolean | number, input: string | any[]]\n  | [keyword: string | boolean | number, input: string | any[], index: number];\nfunction indexOf([keyword, input, startIndex]: IndexOfArgs): number {\n  if (typeof input === 'string') {\n    return input.indexOf(String(keyword), startIndex);\n  } else if (Array.isArray(input)) {\n    return input.indexOf(keyword, startIndex);\n  }\n\n  throw new Error(\n    `Invalid input type for 'index-of'. Expected string or array, got ${typeof input}.`,\n  );\n}\n\ntype SliceArgs =\n  | [input: string | any[], startIndex: number]\n  | [input: string | any[], startIndex: number, endIndex: number];\n\nfunction slice(args: SliceArgs): string | any[] {\n  const [input, startIndex, endIndex] = args;\n\n  if (typeof input === 'string') {\n    return input.slice(startIndex, endIndex);\n  } else if (Array.isArray(input)) {\n    return input.slice(startIndex, endIndex);\n  }\n\n  throw new Error(\n    `Invalid input type for 'slice'. Expected string or array, got ${typeof input}.`,\n  );\n}\n\nexport const lookupExpressions: Record<LookupExpressionName, ExpressionCbFunc> =\n  {\n    get: e(get),\n    length: e(length),\n    at: e(at),\n    has: e(has),\n    in: e(inFunc),\n    'index-of': e(indexOf),\n    slice: e(slice),\n  };\n","import e from '../utils/evaluateArgs';\n\nimport type { ExpressionCbFunc, MathExpressionName } from '../interfaces';\n\nexport const mathExpressions: Record<\n  MathExpressionName,\n  ExpressionCbFunc<number[], number>\n> = {\n  '+': e((args) => args.reduce((a, b) => a + b, 0)),\n  '-': e((args) => args.reduce((a, b) => a - b)),\n  '*': e((args) => args.reduce((a, b) => a * b, 1)),\n  '/': e((args) => args.reduce((a, b) => a / b)),\n  '%': e((args) => args[0] % args[1]),\n  '^': e((args) => Math.pow(args[0], args[1])),\n  abs: e((args) => Math.abs(args[0])),\n  acos: e((args) => Math.acos(args[0])),\n  asin: e((args) => Math.asin(args[0])),\n  atan: e((args) => Math.atan(args[0])),\n  ceil: e((args) => Math.ceil(args[0])),\n  cos: e((args) => Math.cos(args[0])),\n  e: () => Math.E,\n  floor: e((args) => Math.floor(args[0])),\n  ln: e((args) => Math.log(args[0])),\n  ln2: () => Math.LN2,\n  log10: e((args) => Math.log10(args[0])),\n  log2: e((args) => Math.log2(args[0])),\n  max: e((args) => Math.max(...args)),\n  min: e((args) => Math.min(...args)),\n  pi: () => Math.PI,\n  round: e((args) => Math.round(args[0])),\n  sin: e((args) => Math.sin(args[0])),\n  sqrt: e((args) => Math.sqrt(args[0])),\n  tan: e((args) => Math.tan(args[0])),\n};\n","import e from '../utils/evaluateArgs';\n\nimport type { ExpressionCbFunc, StringExpressionName } from '../interfaces';\n\nexport const stringExpressions: Record<\n  StringExpressionName,\n  ExpressionCbFunc<string[], string>\n> = {\n  concat: e((args) => args.reduce((a, b) => String(a) + String(b), '')),\n  downcase: e((args) => String(args[0]).toLowerCase()),\n  upcase: e((args) => String(args[0]).toUpperCase()),\n};\n","export const tryConvert = (\n  converter: (arg: any, data: any) => any,\n  arg: any,\n  data: any,\n): any => {\n  try {\n    const result = converter(arg, data);\n    if (result !== undefined) {\n      return result;\n    }\n  } catch {\n    // ignore errors\n  }\n  return undefined;\n};\n","import { tryConvert } from './tryConvert';\n\nimport type { ExpressionFunc, SimpleType } from '../interfaces';\n\nexport default function fallback<\n  T extends SimpleType[] = SimpleType[],\n  R = T[0],\n>(cb: ExpressionFunc<T, R | undefined>): ExpressionFunc<T[], R> {\n  return (args: T[], data) => {\n    for (const arg of args) {\n      const result = tryConvert(cb, arg, data);\n      if (result !== undefined) {\n        return result;\n      }\n    }\n    throw new Error(`Received a mismatched type`);\n  };\n}\n","import e from '../utils/evaluateArgs';\nimport f from '../utils/fallback';\n\nimport type { ExpressionCbFunc, TypeExpressionName } from '../interfaces';\n\ntype ArrayType = 'string' | 'number' | 'boolean';\n\ntype ArrayArgs =\n  | [value: any[]]\n  | [type: ArrayType, value: any[]]\n  | [type: ArrayType, n: number, value: any[]];\n\nconst array = (args: ArrayArgs): any[] => {\n  const [firstArg, secondArg, thirdArg] = args;\n  let requiredType: ArrayType | undefined = undefined;\n  let requiredLength: number | undefined = undefined;\n  let value: any[] | undefined;\n\n  if (\n    typeof firstArg === 'string' &&\n    ['string', 'number', 'boolean'].includes(firstArg)\n  ) {\n    requiredType = firstArg;\n\n    if (typeof secondArg === 'number') {\n      requiredLength = secondArg;\n      value = thirdArg;\n    } else {\n      value = secondArg;\n    }\n  } else if (Array.isArray(firstArg)) {\n    value = firstArg;\n  }\n  if (!Array.isArray(value)) {\n    throw new Error('Expected an array');\n  }\n  if (requiredType && !value.every((item) => typeof item === requiredType)) {\n    throw new Error(\n      `Expected all items in array to be of type ${requiredType}`,\n    );\n  }\n\n  if (requiredLength && value.length !== requiredLength) {\n    throw new Error(`Expected array of length ${requiredLength}`);\n  }\n  return value;\n};\n\nfunction typeOfValue(value: any): string {\n  if (value === null) return 'null';\n  switch (typeof value) {\n    case 'string':\n      return 'string';\n    case 'number':\n      return 'number';\n    case 'boolean':\n      return 'boolean';\n    case 'object':\n      if (Array.isArray(value)) {\n        let arrayType = 'value';\n        if (value.every((item) => typeof item === 'number')) {\n          arrayType = 'number';\n        } else if (value.every((item) => typeof item === 'string')) {\n          arrayType = 'string';\n        } else if (value.every((item) => typeof item === 'boolean')) {\n          arrayType = 'boolean';\n        }\n        return `array<${arrayType}, ${value.length}>`;\n      } else {\n        return 'object';\n      }\n    default:\n      return 'undefined';\n  }\n}\n\nexport const typeExpressions: Record<TypeExpressionName, ExpressionCbFunc> = {\n  array: e(array),\n  boolean: e(\n    f<boolean[]>((arg) => (typeof arg === 'boolean' ? arg : undefined)),\n  ),\n  literal: e(([arg]) => arg),\n  number: e(f<number[]>((arg) => (typeof arg === 'number' ? arg : undefined))),\n  object: e(\n    f<Record<string, any>[]>((arg) =>\n      arg !== null && typeof arg === 'object' && !Array.isArray(arg)\n        ? arg\n        : undefined,\n    ),\n  ),\n\n  string: e(f((arg) => (typeof arg === 'string' ? arg : undefined))),\n  'to-boolean': e(f(Boolean)),\n  'to-number': e(f(Number)),\n  'to-string': e(f(String)),\n  typeof: e(([arg]) => typeOfValue(arg)),\n};\n","import { decisionExpressions } from './expressions/decisionExpressions';\nimport { interpolationExpressions } from './expressions/interpolationExpressions';\nimport { lookupExpressions } from './expressions/lookupExpressions';\nimport { mathExpressions } from './expressions/mathExpressions';\nimport { stringExpressions } from './expressions/stringExpressions';\nimport { typeExpressions } from './expressions/typeExpressions';\n\nimport type {\n  Data,\n  Expression,\n  ExpressionFunc,\n  ExpressionName,\n  SimpleType,\n} from './interfaces';\n\nexport function isExpression(value: any): value is Expression {\n  if (Array.isArray(value)) {\n    const [lookup, ...cases] = value;\n    const l = lookup as ExpressionName;\n    return (\n      typeof l === 'string' &&\n      l !== 'literal' &&\n      l in expressions &&\n      cases.length > 0\n    );\n  }\n  return false;\n}\n\nconst expressions: { [key in ExpressionName]: ExpressionFunc } = {\n  ...mathExpressions,\n  ...typeExpressions,\n  ...stringExpressions,\n  ...lookupExpressions,\n  ...decisionExpressions,\n  ...interpolationExpressions,\n};\n\nexport function evaluate<T extends SimpleType[] = SimpleType[], R = T[0]>(\n  expression: Expression,\n  data: Data = {},\n): R {\n  const [name, ...args] = expression;\n  const expressionFun = expressions[name];\n  if (expressionFun) {\n    return expressionFun(\n      args.map((arg) => () => (isExpression(arg) ? evaluate(arg, data) : arg)),\n      data,\n    );\n  }\n  throw new Error(`Expression \"${name}\" is not supported.`);\n}\n","import { evaluate, type Expression, isExpression } from '@nextgis/expression';\n\nimport type { Feature } from 'geojson';\n\nimport type { GetPaintCallback, VectorAdapterLayerPaint } from './interfaces';\n\ntype PropertyExpressionCb = (feature: Feature) => ReturnType<typeof evaluate>;\n\nfunction createPropertyExpressionCb(\n  expression: Expression,\n): PropertyExpressionCb {\n  return (feature: Feature) => {\n    const properties = feature.properties;\n    if (properties) {\n      return evaluate(expression, properties);\n    }\n    return false;\n  };\n}\n\nconst excludeExpressionList = ['iconSize', 'iconAnchor'];\n\nexport function createExpressionCallback(\n  paint: Record<string, any>,\n): GetPaintCallback | undefined {\n  let withExpression = false;\n  const expressions: {\n    [key: string]: PropertyExpressionCb;\n  } = {};\n  for (const p in paint) {\n    if (excludeExpressionList.indexOf(p) === -1) {\n      const p_ = p as keyof VectorAdapterLayerPaint;\n      const val = paint[p_];\n      if (isExpression(val)) {\n        withExpression = true;\n        expressions[p_] = createPropertyExpressionCb(val);\n      }\n    }\n  }\n  if (withExpression) {\n    return (feature: Feature) => {\n      const fromCb: any = {};\n      for (const p in expressions) {\n        fromCb[p] = expressions[p](feature);\n      }\n      return { ...paint, ...fromCb };\n    };\n  }\n  return;\n}\n","import type { Feature } from 'geojson';\n\nimport type {\n  Operation,\n  Properties,\n  PropertiesFilter,\n  PropertyFilter,\n} from './interfaces';\n\nfunction reEscape(s: string): string {\n  return s.replace(/[-/\\\\^$*+?.()|[\\]{}]/g, '\\\\$&');\n}\n\nfunction like(b: string, a: string, iLike?: boolean): boolean {\n  a = String(a);\n  b = String(b);\n  if (a === b) return true;\n  if (iLike && a.toUpperCase() === b.toUpperCase()) return true;\n  const re = `^${reEscape(a)}$`.replace(/%/g, '.*').replace('_', '.');\n  return new RegExp(re, iLike ? 'i' : '').exec(b) !== null;\n}\n\nexport const operationsAliases: {\n  [key in Operation]: (a: any, b: any) => boolean;\n} = {\n  // greater(>)\n  gt: (a: any, b: any) => a > b,\n  // lower(<)\n  lt: (a: any, b: any) => a < b,\n  // greater or equal(>=)\n  ge: (a: any, b: any) => a >= b,\n  // lower or equal(<=)\n  le: (a: any, b: any) => a <= b,\n  // equal(=)\n  eq: (a: any, b: any) => a === b,\n  //  not equal(!=)\n  ne: (a: any, b: any) => a !== b,\n\n  in: (a: any, b: any[]) => b.indexOf(a) !== -1,\n  notin: (a: any, b: any[]) => b.indexOf(a) === -1,\n  // LIKE SQL statement(for strings compare)\n  like: (a: string, b: string) => {\n    return like(a, b);\n  },\n  // ILIKE SQL statement(for strings compare)\n  ilike: (a: string, b: string) => {\n    return like(a, b, true);\n  },\n};\n\nexport function isPropertyFilter(\n  filter: PropertyFilter | PropertiesFilter | string,\n): filter is PropertyFilter {\n  const pf = filter as PropertyFilter;\n  if (\n    pf.length === 3 &&\n    typeof pf[0] === 'string' &&\n    typeof pf[1] === 'string'\n  ) {\n    return true;\n  }\n  return false;\n}\n\n/** @deprecated use {@link isPropertyFilter} instead */\nexport function checkIfPropertyFilter(\n  filter: PropertyFilter | PropertiesFilter | string,\n): filter is PropertyFilter {\n  return isPropertyFilter(filter);\n}\n\nexport function featureFilter(\n  feature: Feature,\n  filters: PropertiesFilter,\n): boolean {\n  const properties: Properties = { ...feature.properties };\n  if (properties) {\n    // workaround to filter by feature id\n    properties.$id = feature.id;\n    return propertiesFilter(properties, filters);\n  }\n  return false;\n}\n\nexport function propertiesFilter<T extends Properties = Properties>(\n  properties: T,\n  filters: PropertiesFilter<T>,\n): boolean {\n  const logic = typeof filters[0] === 'string' ? filters[0] : 'all';\n  const filterFunction = (p: PropertyFilter | PropertiesFilter) => {\n    if (isPropertyFilter(p)) {\n      const [field, operation, value] = p;\n      const operationExec = operationsAliases[operation];\n      if (operationExec) {\n        if (operation === 'like' || operation === 'ilike') {\n          if (typeof field === 'string') {\n            let prop = '';\n            const value_ = field.replace(/^%?(\\w+)%?$/, (match, cleanField) => {\n              prop = properties[cleanField];\n              return field.replace(cleanField, value);\n            });\n            return operationExec(prop, value_);\n          }\n        }\n        return operationExec(properties[field], value);\n      }\n      return false;\n    } else {\n      return propertiesFilter(properties, p);\n    }\n  };\n  const filters_ = filters.filter((x) => Array.isArray(x)) as (\n    | PropertyFilter\n    | PropertiesFilter\n  )[];\n  return logic === 'any'\n    ? filters_.some(filterFunction)\n    : filters_.every(filterFunction);\n}\n","import type {\n  GeometryPaint,\n  GetPaintCallback,\n  IconPaint,\n  Paint,\n  PropertiesPaint,\n  VectorAdapterLayerPaint,\n} from './interfaces';\n\nexport function isPropertiesPaint(paint: Paint): paint is PropertiesPaint {\n  if (Array.isArray(paint)) {\n    return true;\n  }\n  return false;\n}\n\nexport function isPaint(paint: Paint): paint is VectorAdapterLayerPaint {\n  if (Object.prototype.toString.call(paint) === '[object Object]') {\n    return true;\n  }\n  return false;\n}\n\nexport function isBasePaint(paint: Paint): paint is GeometryPaint {\n  if (isPaint(paint)) {\n    if (paint.type === 'get-paint' || paint.type === 'icon') {\n      return false;\n    }\n    return true;\n  }\n  return false;\n}\n\nexport function isPaintCallback(paint: Paint): paint is GetPaintCallback {\n  if (typeof paint === 'function') {\n    return true;\n  }\n  return false;\n}\n\nexport function isIcon(paint: IconPaint): paint is IconPaint {\n  return paint.type === 'icon' || 'html' in paint;\n}\n","import { featureFilter } from '@nextgis/properties-filter';\n\nimport { createExpressionCallback } from './fromPaintExpression';\nimport { isPaintCallback, isPropertiesPaint } from './typeHelpers';\n\nimport type { Feature } from 'geojson';\n\nimport type {\n  GeometryPaint,\n  GetCustomPaintOptions,\n  GetPaintCallback,\n  GetPaintFunction,\n  Paint,\n  PropertiesPaint,\n  PropertyPaint,\n  VectorAdapterLayerPaint,\n} from './interfaces';\n\nfunction updatePaintOptionFromCallback(\n  paint: GetCustomPaintOptions,\n  getPaintFunctions?: { [name: string]: GetPaintFunction },\n): VectorAdapterLayerPaint | undefined {\n  if (typeof paint.from === 'function') {\n    return paint.from(paint.options);\n  } else if (typeof paint.from === 'string' && getPaintFunctions) {\n    const from = getPaintFunctions[paint.from];\n    if (from) {\n      return from(paint.options);\n    }\n  }\n}\n\nfunction createPropertiesPaint(\n  propertiesPaint: PropertiesPaint,\n): GetPaintFunction {\n  let mask: VectorAdapterLayerPaint = {};\n  const paintsFilters: PropertyPaint[] = [];\n  for (const p of propertiesPaint) {\n    if (p) {\n      if (Array.isArray(p)) {\n        paintsFilters.push(p);\n      } else {\n        mask = p as VectorAdapterLayerPaint;\n      }\n    }\n  }\n\n  return (feature: Feature) => {\n    const paint = paintsFilters.find((x) => featureFilter(feature, x[0]));\n    if (paint) {\n      return { ...mask, ...paint[1] };\n    }\n    return mask;\n  };\n}\n\nfunction expressionCallback({\n  paint,\n  defaultPaint,\n}: PreparePaintOptions): Paint | VectorAdapterLayerPaint {\n  const expressionCallback = createExpressionCallback(paint);\n  if (expressionCallback) {\n    const expressionPaintCb = (feature: Feature) => {\n      return preparePaint({\n        paint: expressionCallback(feature),\n        defaultPaint,\n      }) as VectorAdapterLayerPaint;\n    };\n    expressionPaintCb.paint = finalizePaint({ paint, defaultPaint });\n    return expressionPaintCb as VectorAdapterLayerPaint;\n  }\n  return finalizePaint({ paint, defaultPaint });\n}\n\nfunction finalizePaint({ paint, defaultPaint }: PreparePaintOptions): Paint {\n  let newPaint: Paint = { ...defaultPaint };\n  newPaint = { ...newPaint, ...paint } as GeometryPaint;\n  newPaint.fill = newPaint.fill ?? true;\n  newPaint.stroke =\n    newPaint.stroke !== undefined\n      ? newPaint.stroke\n      : !newPaint.fill || !!(newPaint.strokeColor || newPaint.strokeOpacity);\n  return newPaint;\n}\n\nexport interface PreparePaintOptions {\n  paint: Paint;\n  defaultPaint?: GeometryPaint;\n  getPaintFunctions?: { [name: string]: GetPaintFunction };\n}\n\nexport function preparePaint({\n  paint,\n  defaultPaint,\n  getPaintFunctions,\n}: PreparePaintOptions): Paint {\n  if (!paint) {\n    throw new Error('paint is empty');\n  }\n  let newPaint: Paint = { ...defaultPaint };\n  if (isPaintCallback(paint)) {\n    const getPaintFunction: GetPaintCallback = (feature: Feature) => {\n      const getPaint = preparePaint({\n        paint: paint(feature),\n        defaultPaint,\n        getPaintFunctions,\n      }) as VectorAdapterLayerPaint;\n      getPaint.type = paint.type;\n      return getPaint;\n    };\n    getPaintFunction.type = paint.type;\n    return getPaintFunction;\n  } else if (isPropertiesPaint(paint)) {\n    return (feature: Feature) => {\n      return preparePaint({\n        paint: createPropertiesPaint(paint)(feature),\n        defaultPaint,\n        getPaintFunctions,\n      }) as VectorAdapterLayerPaint;\n    };\n  } else if (paint.type === 'get-paint') {\n    const getPaint = updatePaintOptionFromCallback(paint, getPaintFunctions);\n    if (getPaint) {\n      newPaint = preparePaint({\n        paint: getPaint,\n        defaultPaint,\n        getPaintFunctions,\n      });\n    }\n  } else if (paint.type === 'icon') {\n    return paint;\n  } else {\n    newPaint = expressionCallback({ paint, defaultPaint });\n  }\n\n  if (isPaintCallback(newPaint)) {\n    return newPaint;\n  }\n\n  if ('color' in newPaint) {\n    if (!newPaint.strokeColor) {\n      newPaint.strokeColor = newPaint.color;\n    }\n    if (!newPaint.fillColor) {\n      newPaint.fillColor = newPaint.color;\n    }\n  }\n  if ('opacity' in newPaint) {\n    if (newPaint.strokeOpacity === undefined) {\n      newPaint.strokeOpacity = newPaint.opacity;\n    }\n    if (newPaint.fillOpacity === undefined) {\n      newPaint.fillOpacity = newPaint.opacity;\n    }\n  }\n\n  return newPaint;\n}\n","export function debugLog(message?: string): boolean {\n  if (__DEV__) {\n    console.trace('DEBUG: ' + message);\n    return true;\n  }\n  return false;\n}\n","export function deepmerge<T>(\n  x: Partial<T>,\n  y: Partial<T>,\n  mergeArray?: boolean,\n): T;\nexport function deepmerge<T1, T2>(\n  target: Partial<T1>,\n  src: Partial<T2>,\n  mergeArray = false,\n): T1 & T2 {\n  let target_ = target as any;\n  const src_ = src as any;\n  const array = Array.isArray(src_);\n  let dst: any = (array && []) || {};\n\n  if (array && Array.isArray(src_)) {\n    if (mergeArray) {\n      target_ = target_ || [];\n      dst = dst.concat(target_);\n      src_.forEach((e: any, i: number) => {\n        if (typeof dst[i] === 'undefined') {\n          dst[i] = e;\n        } else if (typeof e === 'object') {\n          dst[i] = deepmerge(target_[i], e, mergeArray);\n        } else {\n          if (target_.indexOf(e) === -1) {\n            dst.push(e);\n          }\n        }\n      });\n    } else {\n      // Replace array. Do not merge by default\n      dst = src_;\n    }\n  } else {\n    if (target_ && typeof target_ === 'object') {\n      Object.keys(target_).forEach(function (key) {\n        dst[key] = target_[key];\n      });\n    }\n    Object.keys(src_).forEach(function (key) {\n      if (typeof src_[key] !== 'object' || !src_[key]) {\n        dst[key] = src_[key];\n      } else {\n        if (typeof target_[key] === 'object' && typeof src_[key] === 'object') {\n          dst[key] = deepmerge(target_[key], src_[key], mergeArray);\n        } else {\n          dst[key] = src_[key];\n        }\n      }\n    });\n  }\n  return dst;\n}\n","/**\n * from https://github.com/CesiumGS/cesium/blob/master/Source/Core/defined.js\n *\n * @param val - The object.\n * @returns Returns true if the object is defined, returns false otherwise.\n *\n * @example\n * ```javascript\n * if (defined(positions)) {\n *   doSomething();\n * } else {\n *   doSomethingElse();\n * }\n * ```\n */\nexport function defined<T>(val: T): val is Exclude<T, null | undefined> {\n  return val !== undefined && val !== null;\n}\n\n/**\n * from https://github.com/CesiumGS/cesium/blob/master/Source/Core/defined.js\n *\n * @param val - The object.\n * @returns Returns true if the object is defined and not empty string, returns false otherwise.\n *\n * @example\n * ```javascript\n * full('foo') // true\n * full('') // false\n * full(undefined) // false\n * full(0) // true\n * ```\n */\nexport function full<T>(val: T): val is Exclude<T, null | undefined> {\n  return typeof val === 'string' ? !!val : defined(val);\n}\n","import { debugLog } from '../debug/debugLog';\n\nimport type { LatLng } from '../geom/interfaces';\nimport type { LngLatArray } from '../geom/interfaces';\n\ninterface DeprecatedMapClickEvent {\n  lngLat: LngLatArray;\n  latLng?: LatLng;\n}\n\n/**\n * @internal\n */\nexport function deprecatedMapClick<\n  T extends DeprecatedMapClickEvent = DeprecatedMapClickEvent,\n>(ev: T): T {\n  if (!ev.lngLat && ev.latLng) {\n    debugLog('deprecated use of latLng in MapClickEvent, use lngLat instead');\n    const lat = ev.latLng.lat;\n    const lng = ev.latLng.lng;\n    ev.lngLat = [lng, lat];\n  }\n  return ev;\n}\n","import type { LngLatBoundsArray } from './interfaces';\n\nexport function checkExtent(extent: number[]): extent is LngLatBoundsArray {\n  const [minLon, minLat, maxLon, maxLat] = extent;\n\n  // Check if coordinates are in the correct order\n  const isOrderValid = minLon < maxLon && minLat < maxLat;\n\n  if (!isOrderValid) {\n    console.log('Error: The extent coordinates are not in the correct order.');\n    console.log(\n      `Received extent: [${minLon}, ${minLat}, ${maxLon}, ${maxLat}]`,\n    );\n\n    // Create a valid array with corrected order\n    const correctedExtent = [\n      Math.min(minLon, maxLon),\n      Math.min(minLat, maxLat),\n      Math.max(minLon, maxLon),\n      Math.max(maxLat, minLat),\n    ];\n\n    console.log(`Expected order: [${correctedExtent.join(', ')}]`);\n  }\n\n  // Check if the coordinates are within valid ranges\n  const isValidLon = minLon >= -180 && maxLon <= 180;\n  const isValidLat = minLat >= -90 && maxLat <= 90;\n\n  if (!isValidLon || !isValidLat) {\n    console.log(\n      'Warning: The coordinates may not be within valid geographic ranges.',\n    );\n  }\n\n  // Return true only if all checks pass\n  return isOrderValid && isValidLon && isValidLat;\n}\n","import type { Feature, Polygon } from 'geojson';\n\nimport type { LngLatBoundsArray } from './interfaces';\n\nexport function getBoundsPolygon(b: LngLatBoundsArray): Polygon {\n  const polygon: Polygon = {\n    type: 'Polygon',\n    coordinates: [getBoundsCoordinates(b)],\n  };\n  return polygon;\n}\n\nexport function getBoundsCoordinates(b: LngLatBoundsArray): number[][] {\n  const westNorth = [b[0], b[1]];\n  const eastNorth = [b[2], b[1]];\n  const eastSouth = [b[2], b[3]];\n  const westSouth = [b[0], b[3]];\n\n  return [westNorth, eastNorth, eastSouth, westSouth, westNorth];\n}\n\nexport function getBoundsFeature(b: LngLatBoundsArray): Feature<Polygon> {\n  const feature: Feature<Polygon> = {\n    type: 'Feature',\n    properties: {},\n    geometry: getBoundsPolygon(b),\n  };\n  return feature;\n}\n","import type {\n  Feature,\n  FeatureCollection,\n  GeoJsonGeometryTypes,\n  GeoJsonObject,\n  GeometryCollection,\n} from 'geojson';\n\n/**\n * @internal\n */\nexport function findMostFrequentGeomType(\n  arr: GeoJsonGeometryTypes[],\n): GeoJsonGeometryTypes {\n  const counts: { [x: string]: number } = {};\n  for (let fry = 0; fry < arr.length; fry++) {\n    counts[arr[fry]] = 1 + (counts[arr[fry]] || 0);\n  }\n  let maxName;\n  for (const c in counts) {\n    const count = maxName !== undefined ? counts[maxName] : 0;\n    if (counts[c] > (count || 0)) {\n      maxName = c;\n    }\n  }\n  return maxName as GeoJsonGeometryTypes;\n}\n\n/**\n * @internal\n */\nexport function detectGeometryType(\n  geojson: GeoJsonObject,\n): GeoJsonGeometryTypes {\n  let geometry: GeoJsonGeometryTypes;\n  if (geojson.type === 'FeatureCollection') {\n    const featuresTypes = (geojson as FeatureCollection).features.map(\n      (f) => f.geometry.type,\n    );\n    geometry = findMostFrequentGeomType(featuresTypes);\n  } else if (geojson.type === 'GeometryCollection') {\n    const geometryTypes = (geojson as GeometryCollection).geometries.map(\n      (g) => g.type,\n    );\n    geometry = findMostFrequentGeomType(geometryTypes);\n  } else if (geojson.type === 'Feature') {\n    geometry = (geojson as Feature).geometry.type;\n  } else {\n    geometry = geojson.type;\n  }\n  return geometry;\n}\n","import { isPaint } from '@nextgis/paint';\n\nimport { detectGeometryType } from './geometryTypes';\n\nimport type {\n  GeoJsonAdapterOptions,\n  VectorAdapterLayerType,\n} from '../interfaces/LayerAdapter';\n\n/**\n * @internal\n */\nexport const paintTypeAlias: Record<VectorAdapterLayerType, any> = {\n  polygon: 'path',\n  line: 'path',\n  point: 'circle',\n};\n\nexport const typeAlias: { [x: string]: VectorAdapterLayerType } = {\n  Point: 'point',\n  LineString: 'line',\n  MultiPoint: 'point',\n  Polygon: 'polygon',\n  MultiLineString: 'line',\n  MultiPolygon: 'polygon',\n};\n\n/**\n * @internal\n */\nexport function updateGeoJsonAdapterOptions<\n  O extends GeoJsonAdapterOptions = GeoJsonAdapterOptions,\n>(opt: O): O {\n  if (opt.data) {\n    const geomType = typeAlias[detectGeometryType(opt.data)];\n    const p = opt.paint;\n    if (p && isPaint(p)) {\n      // define parameter if not specified\n      p.type = p.type\n        ? p.type\n        : geomType === 'polygon' || geomType === 'line'\n          ? 'path'\n          : 'html' in p || 'className' in p\n            ? 'icon'\n            : paintTypeAlias[geomType];\n    }\n    opt.type = opt.type || geomType;\n  }\n  return opt;\n}\n","export class KeyCodes {\n  'backspace' = 8;\n  'tab' = 9;\n  'enter' = 13;\n  'shift' = 16;\n  'ctrl' = 17;\n  'alt' = 18;\n  'pause/break' = 19;\n  'caps_lock' = 20;\n  'escape' = 27;\n  'page_up' = 33;\n  'page_down' = 34;\n  'end' = 35;\n  'home' = 36;\n  'left_arrow' = 37;\n  'up_arrow' = 38;\n  'right_arrow' = 39;\n  'down_arrow' = 40;\n  'insert' = 45;\n  'delete' = 46;\n  'left_window_key' = 91;\n  'right_window_key' = 92;\n  'select_key' = 93;\n  'numpad_0' = 96;\n  'numpad_1' = 97;\n  'numpad_2' = 98;\n  'numpad_3' = 99;\n  'numpad_4' = 100;\n  'numpad_5' = 101;\n  'numpad_6' = 102;\n  'numpad_7' = 103;\n  'numpad_8' = 104;\n  'numpad_9' = 105;\n  'multiply' = 106;\n  'add' = 107;\n  'subtract' = 109;\n  'decimal_point' = 110;\n  'divide' = 111;\n  'f1' = 112;\n  'f2' = 113;\n  'f3' = 114;\n  'f4' = 115;\n  'f5' = 116;\n  'f6' = 117;\n  'f7' = 118;\n  'f8' = 119;\n  'f9' = 120;\n  'f10' = 121;\n  'f11' = 122;\n  'f12' = 123;\n  'num_lock' = 144;\n  'scroll_lock' = 145;\n  'semi-colon' = 186;\n  'equal_sign' = 187;\n  ',' = 188; // \"comma\";\n  '-' = 189; // \"dash\";\n  '.' = 190; // \"period\";\n  '/' = 191; // \"forward slash\";\n  '`' = 192; // \"grave accent\";\n  '[' = 219; // \"open bracket\";\n  '\\\\' = 220; // \"back slash\";\n  ']' = 221; // \"close braket\";\n  \"'\" = 222; // \"single quote\"\n}\n","import { KeyCodes } from './KeysCodes';\n\n/**\n * @param {string} key - key symbol\n * @param {string} func - action on key press\n * @param {number} [keyCode] - key code for special button like tab\n *\n * @export\n * @interface KeyControl\n */\nexport interface KeyControl {\n  key?: string;\n  keyCode?: number;\n  func: () => void;\n}\n\nexport class Keys {\n  keyCodeAlias = new KeyCodes();\n\n  keys: { [keyCode: number]: boolean } = {};\n\n  private _windowOnFocus: () => void;\n  private _keysPressed: (e: KeyboardEvent) => void;\n  private _keysReleased: (e: KeyboardEvent) => void;\n\n  constructor() {\n    this._windowOnFocus = this.windowOnFocus.bind(this);\n    this._keysPressed = this.keysPressed.bind(this);\n    this._keysReleased = this.keysReleased.bind(this);\n    this.addKeyboardEventsListener();\n  }\n\n  pressed(keyName: keyof KeyCodes): boolean {\n    const code = this.keyCodeAlias[keyName];\n    return !!code && this.keys[code];\n  }\n\n  addKeyboardEventsListener(): void {\n    if (typeof window !== 'undefined') {\n      window.addEventListener('focus', this._windowOnFocus, false);\n      window.addEventListener('keydown', this._keysPressed, false);\n      window.addEventListener('keyup', this._keysReleased, false);\n    }\n  }\n\n  removeKeyboardEventsListener(): void {\n    if (typeof window !== 'undefined') {\n      window.removeEventListener('focus', this._windowOnFocus, false);\n      window.removeEventListener('keydown', this._keysPressed, false);\n      window.removeEventListener('keyup', this._keysReleased, false);\n    }\n  }\n\n  private keysPressed(e: KeyboardEvent) {\n    e.stopPropagation();\n    if (!this.keys[e.keyCode]) {\n      this.keys[e.keyCode] = true;\n    }\n  }\n\n  private keysReleased(e: KeyboardEvent) {\n    e.stopPropagation();\n    this.keys[e.keyCode] = false;\n  }\n\n  private windowOnFocus() {\n    this.keys = {};\n  }\n}\n","import type { WebMapEvents } from '../../interfaces/Events';\nimport type { MapOptions } from '../../interfaces/MapOptions';\nimport type { MapStateItem } from '../../interfaces/MapState';\nimport type { WebMap } from '../../WebMap';\n\nexport abstract class StateItem<V extends any | undefined = any | undefined>\n  implements MapStateItem<V | undefined>\n{\n  name!: keyof MapOptions;\n  event!: (keyof WebMapEvents)[];\n  protected value?: V;\n\n  constructor(\n    protected webMap: WebMap,\n    opt?: {\n      name?: keyof MapOptions;\n      event?: (keyof WebMapEvents)[] | keyof WebMapEvents;\n      value?: V;\n    },\n  ) {\n    if (opt) {\n      if (opt.value) {\n        this.setValue(opt.value);\n      }\n      if (opt.name) {\n        this.name = opt.name;\n      }\n      if (opt.event) {\n        if (typeof opt.event === 'string') {\n          this.event = [opt.event];\n        } else {\n          this.event = opt.event;\n        }\n      }\n    }\n  }\n\n  getValue(): V | undefined {\n    return this.value;\n  }\n\n  setValue(val: V): void {\n    this.value = val;\n  }\n\n  abstract toString(): string | undefined;\n  abstract parse(str: string): V;\n}\n","import { StateItem } from './StateItem';\n\nimport type { LngLatBoundsArray } from '@nextgis/utils';\n\nimport type { WebMapEvents } from '../../interfaces/Events';\nimport type { MapOptions } from '../../interfaces/MapOptions';\n\nexport class BoundState extends StateItem<LngLatBoundsArray> {\n  name: keyof MapOptions = 'bounds';\n  event: (keyof WebMapEvents)[] = ['moveend'];\n\n  getValue(): LngLatBoundsArray | undefined {\n    return this.webMap.getBounds();\n  }\n  setValue(bounds: LngLatBoundsArray): void {\n    this.webMap.setView({ bounds });\n  }\n  toString(): string | undefined {\n    const data = this.getValue();\n    if (data) {\n      return data\n        .slice(0, 4)\n        .map((x) => x.toFixed(5))\n        .join('_');\n    }\n    return undefined;\n  }\n  parse(str: string): LngLatBoundsArray {\n    const lngLat = str.split('_').map(Number) as LngLatBoundsArray;\n    return lngLat;\n  }\n}\n","import { StateItem } from './StateItem';\n\nimport type { LngLatArray } from '@nextgis/utils';\n\nimport type { WebMapEvents } from '../../interfaces/Events';\nimport type { MapOptions } from '../../interfaces/MapOptions';\n\nexport class CenterState extends StateItem<LngLatArray> {\n  name: keyof MapOptions = 'center';\n  event: (keyof WebMapEvents)[] = ['moveend'];\n\n  getValue(): LngLatArray | undefined {\n    return this.webMap.getCenter();\n  }\n  setValue(val: LngLatArray): void {\n    this.webMap.setCenter(val);\n  }\n  toString(): string {\n    const data = this.getValue();\n    if (data) {\n      const d = data.map((x) => x.toFixed(5));\n      return d[0] + '_' + d[1];\n    }\n    return '';\n  }\n  parse(str: string): LngLatArray {\n    const lngLat = str.split('_').map(Number) as LngLatArray;\n    return lngLat;\n  }\n}\n","import { StateItem } from './StateItem';\n\nimport type { WebMapEvents } from '../../interfaces/Events';\nimport type { MapOptions } from '../../interfaces/MapOptions';\n\nexport class ZoomState extends StateItem<number> {\n  name: keyof MapOptions = 'zoom';\n  event: (keyof WebMapEvents)[] = ['zoomend'];\n  getValue(): number | undefined {\n    const zoom = this.webMap.getZoom();\n    return zoom !== undefined ? Math.round(zoom) : undefined;\n  }\n  setValue(val: number): void {\n    this.webMap.setZoom(val);\n  }\n  toString(): string | undefined {\n    return String(this.getValue());\n  }\n  parse(str: string): number {\n    return Number(str);\n  }\n}\n","/**\n * @internal\n */\nexport function clearObject(obj: Record<any, any>): void {\n  for (const member in obj) {\n    delete obj[member];\n  }\n}\n","import {\n  checkExtent,\n  deepmerge,\n  defined,\n  getBoundsFeature,\n} from '@nextgis/utils';\nimport { deprecatedMapClick } from '@nextgis/utils';\nimport { EventEmitter } from 'events';\n\nimport { Keys } from './components/keys/Keys';\nimport { BoundState, CenterState, ZoomState } from './components/mapStates';\nimport { clearObject } from './utils/clearObject';\n\nimport type { GetPaintFunction } from '@nextgis/paint';\nimport type {\n  LngLatArray,\n  LngLatBoundsArray,\n  TileJson,\n  Type,\n} from '@nextgis/utils';\nimport type { Feature, Polygon } from 'geojson';\nimport type StrictEventEmitter from 'strict-event-emitter-types';\n\nimport type { StateItem } from './components/mapStates/StateItem';\nimport type { Cursor } from './interfaces/BaseTypes';\nimport type { MainMapEvents, WebMapEvents } from './interfaces/Events';\nimport type { LayerAdapter } from './interfaces/LayerAdapter';\nimport type {\n  FitOptions,\n  Locate,\n  LocateOptions,\n  LocationEvents,\n  MapAdapter,\n  MapClickEvent,\n} from './interfaces/MapAdapter';\nimport type { MapOptions, ViewOptions } from './interfaces/MapOptions';\nimport type { RuntimeParams } from './interfaces/RuntimeParams';\nimport type { StarterKit } from './interfaces/StarterKit';\n\ntype EmitStatusEventData = any;\n\nlet ID = 0;\n\nconst OPTIONS: MapOptions = {\n  minZoom: 0,\n  maxZoom: 22,\n  paint: {\n    color: '#0000ff', // blue\n    opacity: 0.4,\n    strokeOpacity: 1,\n    stroke: true,\n    radius: 8,\n    weight: 1,\n  },\n  selectedPaint: {\n    color: '#00008b', // darkblue\n    opacity: 0.4,\n    strokeOpacity: 1,\n    stroke: true,\n    radius: 12,\n    weight: 1,\n  },\n  create: true,\n};\n\ninterface AddEventsListenersOptions {\n  include: (keyof MainMapEvents)[];\n}\n\nexport class WebMapMain<\n  M = any,\n  E extends WebMapEvents = WebMapEvents,\n  O extends MapOptions = MapOptions,\n> {\n  static keys: Keys = new Keys();\n\n  static getPaintFunctions: { [name: string]: GetPaintFunction };\n\n  options: O = OPTIONS as O;\n  // `WebMapEvents` must be `E` but its not work correct\n  readonly emitter: StrictEventEmitter<EventEmitter, WebMapEvents> =\n    new EventEmitter();\n  readonly keys = WebMapMain.keys;\n\n  readonly mapAdapter: MapAdapter<M>;\n  readonly runtimeParams: RuntimeParams[] = [];\n\n  getPaintFunctions = WebMapMain.getPaintFunctions;\n  mapStateItems: Type<StateItem>[] = [CenterState, ZoomState, BoundState];\n  id = ID++;\n\n  /**\n   * From runtime params\n   */\n  readonly mapState: StateItem[] = [];\n  protected _initMapState: Record<string, any> = {};\n  protected readonly _starterKits: StarterKit[];\n  private _extent?: LngLatBoundsArray;\n  private readonly _eventsStatus: { [key in keyof E]?: boolean } = {};\n  private _coordFromMapClickAbort?: () => void;\n\n  private readonly _mapEvents: {\n    [key in keyof MainMapEvents]?: (...args: any[]) => void;\n  } = {};\n\n  constructor(mapOptions: O) {\n    this.mapAdapter = mapOptions.mapAdapter as MapAdapter<M>;\n    this._starterKits = mapOptions.starterKits || [];\n    if (mapOptions) {\n      this.options = deepmerge((OPTIONS as O) || {}, mapOptions) as O;\n    }\n    if (this.options.runtimeParams) {\n      this.runtimeParams = this.options.runtimeParams;\n    }\n    this._addEventsListeners();\n\n    if (this.options.tileJson) {\n      this._setTileJsonOptions(this.options.tileJson);\n    }\n    if (this.options.create) {\n      this.create();\n    }\n  }\n\n  getId(): number {\n    return this.id;\n  }\n\n  /**\n   * Manual way to create a map (If {@link MapOptions.create} is `false`).\n   * @example\n   * ```javascript\n   * const webMap = new WebMap(options);\n   * webMap.create().then(() => doSomething());\n   * ```\n   */\n  async create(): Promise<this> {\n    if (!this.getEventStatus('create')) {\n      await this._setInitMapState(this.mapStateItems);\n      await this._setupMap();\n      this._emitStatusEvent('create', this);\n    }\n    return this;\n  }\n\n  setRuntimeParams(params: RuntimeParams): void {\n    this.runtimeParams.push(params);\n  }\n\n  /**\n   * Destroys WebMap, MapAdapter, clears all layers and turn off all event listeners\n   */\n  destroy(): void {\n    this._removeEventListeners();\n    clearObject(this._emitStatusEvent);\n    if (this.mapAdapter.destroy) {\n      this.mapAdapter.destroy();\n    }\n  }\n\n  mapStateWithFunc(func: (x: any) => any): Record<string, any> {\n    const state: Record<string, any> = {};\n    this.mapState.forEach((x) => {\n      state[x.name] = func(x);\n    });\n    return state;\n  }\n\n  getStateAsString(): Record<string, any> {\n    return this.mapStateWithFunc((x) => x.toString());\n  }\n\n  getState(): Record<string, any> {\n    return this.mapStateWithFunc((x) => x.getValue());\n  }\n\n  getRuntimeParams(): Record<string, any> {\n    const state: Record<string, any> = {};\n    this.mapState.forEach((x) => {\n      for (const r of this.runtimeParams) {\n        const val = r.get(x.name);\n        if (val !== undefined) {\n          state[x.name] = x.parse(val);\n          break;\n        }\n      }\n    });\n    return state;\n  }\n\n  /**\n   * Returns the HTML element that contains the map.\n   * @returns The map's container\n   */\n  getContainer(): HTMLElement | undefined {\n    if (this.mapAdapter.getContainer) {\n      return this.mapAdapter.getContainer();\n    } else if (this.options.target) {\n      if (this.options.target instanceof HTMLElement) {\n        return this.options.target;\n      } else if (typeof this.options.target === 'string') {\n        const element = document.getElementById(this.options.target);\n        if (element) {\n          return element;\n        }\n      }\n    }\n  }\n\n  /**\n   * Set the cursor icon to be displayed when hover icon on the map container.\n   * @param cursor - Available cursor name from https://developer.mozilla.org/ru/docs/Web/CSS/cursor\n   */\n  setCursor(cursor: Cursor): void {\n    this.onLoad().then(() => {\n      if (this.mapAdapter.setCursor) {\n        this.mapAdapter.setCursor(cursor);\n      }\n    });\n  }\n\n  getCursor(): Cursor | undefined {\n    if (this.mapAdapter.getCursor) {\n      return this.mapAdapter.getCursor() as Cursor;\n    }\n    const container = this.getContainer();\n    if (container) {\n      return container.style.cursor as Cursor;\n    }\n  }\n\n  /**\n   * Set the center of the current view.\n   * @param lngLat - Array of two numbers representing longitude and latitude of the center of the map view.\n   *\n   * @example\n   * ```javascript\n   * // Mount Everest 27° 59′ 17″ N, 86° 55′ 31″ E\n   * webMap.setCenter([86.925278, 27.988056]);\n   * ```\n   */\n  setCenter(lngLat: LngLatArray): this {\n    this.mapAdapter.setCenter(lngLat);\n    return this;\n  }\n\n  /**\n   * Returns the map's geographical centerpoint.\n   * @returns lngLat Array of two numbers representing longitude and latitude of the center of the map view.\n   *\n   * @example\n   * ```javascript\n   * // Mount Everest 27° 59′ 17″ N, 86° 55′ 31″ E\n   * webMap.getCenter(); // [86.925278, 27.988056]\n   * ```\n   */\n  getCenter(): LngLatArray | undefined {\n    return this.mapAdapter.getCenter();\n  }\n\n  getBounds(): LngLatBoundsArray | undefined {\n    if (this.mapAdapter.getBounds) {\n      return this.mapAdapter.getBounds();\n    }\n  }\n\n  getBoundsPolygon(): Feature<Polygon> | undefined {\n    const bounds = this.getBounds();\n    if (bounds) {\n      const feature = getBoundsFeature(bounds);\n      return feature;\n    }\n  }\n\n  /**\n   * Zoom to a specific zoom level.\n   * @param zoom - The zoom level to set (0-24).\n   */\n  setZoom(zoom: number): this {\n    this.mapAdapter.setZoom(zoom);\n    return this;\n  }\n\n  /**\n   * Returns the map's current zoom level.\n   * @returns The map's current zoom level (0-24).\n   */\n  getZoom(): number | undefined {\n    const zoom = this.mapAdapter.getZoom();\n    if (typeof zoom === 'number') {\n      return zoom;\n    }\n    // throw Error(\n    //   'Unable to get zoom level. Perhaps the map is not have been initialized yet',\n    // );\n  }\n\n  zoomIn(): void {\n    if (this.mapAdapter.zoomIn) {\n      this.mapAdapter.zoomIn();\n    } else {\n      const zoom = this.getZoom();\n      if (zoom !== undefined) {\n        const toZoom = zoom + 1;\n        this.setZoom(toZoom);\n      }\n    }\n  }\n\n  zoomOut(): void {\n    if (this.mapAdapter.zoomOut) {\n      this.mapAdapter.zoomOut();\n    } else {\n      const zoom = this.getZoom();\n      if (zoom !== undefined) {\n        const toZoom = zoom - 1;\n        this.setZoom(toZoom);\n      }\n    }\n  }\n\n  /**\n   * Sets the view of the map geographical center and zoom\n   * @param lngLat - Array of two numbers representing longitude and latitude of the center of the map view.\n   * @param zoom - The zoom level to set (0-24).\n   *\n   * @example\n   * ```javascript\n   * // Mount Everest 27° 59′ 17″ N, 86° 55′ 31″ E\n   * webMap.setView([86.925278, 27.988056], 12)\n   * ```\n   */\n  setView(lngLatOr: LngLatArray, zoom?: number): void;\n\n  setView(options: ViewOptions): void;\n\n  setView(lngLatOrOpt: LngLatArray | ViewOptions, zoom?: number): void {\n    if (Array.isArray(lngLatOrOpt)) {\n      const lngLat = lngLatOrOpt;\n      if (this.mapAdapter.setView && lngLat && defined(zoom)) {\n        this.mapAdapter.setView(lngLat, zoom);\n      } else {\n        if (lngLat) {\n          this.mapAdapter.setCenter(lngLat);\n        }\n        if (defined(zoom)) {\n          this.mapAdapter.setZoom(zoom);\n        }\n      }\n    } else {\n      const viewOpt = lngLatOrOpt;\n      if (this.mapAdapter.setView) {\n        this.mapAdapter.setView(viewOpt);\n      }\n    }\n  }\n\n  /**\n   * Sets a map view that contains the given geographical bounds.\n   * @param bounds - Array of coordinates, measured in degrees, in [west, south, east, north] order.\n   *\n   * @example\n   * ```javascript\n   * // Whole world\n   * webMap.fitBounds([0, -90, 180, 90]);\n   * ```\n   */\n  fitBounds(bounds: LngLatBoundsArray, options?: FitOptions): this {\n    checkExtent(bounds);\n    if (bounds.every((x) => defined(x))) {\n      if (bounds[1] < -85.06) {\n        bounds[1] = -85.06;\n      }\n      if (bounds[3] > 85.06) {\n        bounds[3] = 85.06;\n      }\n      this.mapAdapter.fitBounds(bounds, options);\n    }\n    return this;\n  }\n\n  /**\n   * Checking the status of any asynchronous operation\n   * @param event - The name of the event whose status is checked\n   *\n   * @example\n   * ```javascript\n   * var webMap = new WebMap(options);\n   * webMap.getEventStatus('create'); // false\n   * webMap.emitter.on('create', function () {\n   *   webMap.getEventStatus('create'); // true\n   * })\n   * ```\n   */\n  getEventStatus(event: keyof E): boolean {\n    // ugly hack to disable type checking error\n    const _eventName = event as keyof WebMapEvents;\n    const status = this._eventsStatus[_eventName];\n    return status ?? false;\n  }\n\n  /**\n   * helper method to wait for events to load. By default, card creation is tracked\n   * @param event - The name of the event whose status is checked\n   *\n   * @example\n   * ```javascript\n   * var webMap = new WebMap(options);\n   * webMap.onLoad().then(function () {\n   *   webMap.getEventStatus('create'); // true\n   * })\n   *\n   * // use async/await syntax\n   * async function () {\n   *   await webMap.onLoad();\n   *   doSomething();\n   * }\n   *\n   * ```\n   */\n  onLoad(event: keyof WebMapEvents = 'create'): Promise<this> {\n    return new Promise((res) => {\n      if (this.getEventStatus(event)) {\n        res(this);\n      } else {\n        this.emitter.once(event, () => {\n          res(this);\n        });\n      }\n    });\n  }\n\n  onMapLoad(cb?: (mapAdapter: MapAdapter) => void): Promise<MapAdapter> {\n    return new Promise((res) => {\n      const _resolve = () => {\n        const mapAdapter = this.mapAdapter;\n        if (cb) {\n          cb(mapAdapter);\n        }\n        if (mapAdapter) {\n          res(mapAdapter);\n        }\n      };\n      const isLoaded = this.mapAdapter.isLoaded ?? true;\n      if (this.mapAdapter.map && isLoaded) {\n        _resolve();\n      } else {\n        this.mapAdapter.emitter.once('create', () => {\n          _resolve();\n        });\n      }\n    });\n  }\n\n  getLayerAdapters(): { [name: string]: Type<LayerAdapter> } {\n    return this.mapAdapter.layerAdapters;\n  }\n\n  getLayerAdapter(name: string): Type<LayerAdapter> {\n    const adapter = this.mapAdapter.layerAdapters[name];\n    return adapter;\n  }\n\n  locate(opt: LocateOptions, events?: LocationEvents): Locate {\n    if (this.mapAdapter && this.mapAdapter.locate) {\n      return this.mapAdapter.locate(opt, events);\n    }\n    const stop = () => ({});\n    return { stop };\n  }\n\n  stopGetCoordFromMapClick(): void {\n    if (this._coordFromMapClickAbort) {\n      this._coordFromMapClickAbort();\n      this._coordFromMapClickAbort = undefined;\n    }\n  }\n\n  getCoordFromMapClick(): Promise<LngLatArray> {\n    if (!this._coordFromMapClickAbort) {\n      return new Promise((resolve, reject) => {\n        const cursor: Cursor = this.getCursor() || 'grab';\n        this._removeEventListeners({ include: ['click'] });\n        this.setCursor('crosshair');\n        const onCancel_ = (): void => {\n          this.setCursor(cursor);\n          this._addEventsListeners({ include: ['click'] });\n          this.mapAdapter.emitter.off('click', onMapClick);\n          this._coordFromMapClickAbort = undefined;\n        };\n        const onMapClick = (e: MapClickEvent) => {\n          onCancel_();\n          deprecatedMapClick(e);\n          resolve(e.lngLat);\n        };\n        this.mapAdapter.emitter.once('click', onMapClick);\n        this._coordFromMapClickAbort = onCancel_;\n      });\n    } else {\n      return this.getCoordFromMapClick();\n    }\n  }\n\n  protected _emitStatusEvent(\n    eventName: keyof E,\n    data?: EmitStatusEventData,\n  ): void {\n    // ugly hack to disable type checking error\n    const _eventName = eventName as keyof E;\n    this._eventsStatus[_eventName] = true;\n    this.emitter.emit(_eventName as keyof WebMapEvents, data);\n  }\n\n  protected async _addLayerProviders(): Promise<void> {\n    //\n  }\n\n  protected async _onLoadSync(): Promise<void> {\n    //\n  }\n\n  private async _setupMap(): Promise<this> {\n    if (!this.mapAdapter) {\n      throw new Error('WebMap `mapAdapter` option is not set');\n    }\n    await this.mapAdapter.create(this.options);\n    this._zoomToInitialExtent();\n\n    await this._addLayerProviders();\n    await this._onLoadSync();\n\n    this._emitStatusEvent('build-map', this.mapAdapter);\n    return this;\n  }\n\n  private _setTileJsonOptions(tileJson: TileJson): void {\n    if (tileJson.center) {\n      this.options.center = tileJson.center;\n    }\n    if (tileJson.bounds) {\n      this.options.bounds = tileJson.bounds;\n    }\n    if (defined(tileJson.maxzoom)) {\n      // this.options.maxZoom = tileJson.maxzoom;\n      this.options.zoom = tileJson.maxzoom;\n    }\n    if (defined(tileJson.minzoom)) {\n      // this.options.minZoom = tileJson.minzoom;\n      this.options.zoom = tileJson.minzoom;\n    }\n    if (defined(tileJson.maxzoom) && defined(tileJson.minzoom)) {\n      this.options.zoom = (tileJson.maxzoom + tileJson.minzoom) / 2;\n    }\n  }\n\n  private _zoomToInitialExtent(): void {\n    const { center, zoom, bounds } = this.options;\n    if (this._extent) {\n      this.fitBounds(this._extent);\n    } else if (center && zoom) {\n      this.setView(center, zoom);\n    } else if (bounds) {\n      this.fitBounds(bounds);\n      if (zoom !== undefined) {\n        this.setZoom(zoom);\n      }\n    }\n  }\n\n  private _setInitMapState(states: Type<StateItem>[]): void {\n    for (const X of states) {\n      const state = new X(this);\n      this.mapState.push(state);\n      for (const r of this.runtimeParams) {\n        const str = r.get(state.name);\n        if (str !== undefined) {\n          const val = state.parse(str);\n          this._initMapState[state.name] = val;\n          Object.defineProperty(this.options, state.name, {\n            value: val,\n            configurable: true,\n            enumerable: true,\n          });\n          break;\n        }\n      }\n    }\n  }\n\n  private _addEventsListeners(opt?: AddEventsListenersOptions): void {\n    let events: (keyof MainMapEvents)[] = [\n      'preclick',\n      'click',\n      'zoomstart',\n      'zoom',\n      'zoomend',\n      'movestart',\n      'move',\n      'moveend',\n      'mousemove',\n      'mouseout',\n      'mouseover',\n    ];\n\n    if (opt && opt.include) {\n      events = events.filter((x) => opt.include.includes(x));\n    }\n\n    events.forEach((x) => {\n      this._mapEvents[x] = (data): void => {\n        if (this.runtimeParams.length) {\n          const mapStatusEvents = this.mapState.filter((y) =>\n            y.event.includes(x),\n          );\n          mapStatusEvents.forEach((mapStatusEvent) => {\n            const value = mapStatusEvent.toString();\n            this.runtimeParams.forEach((r) => {\n              r.set(mapStatusEvent.name, value);\n            });\n          });\n        }\n        if (this._eventsStatus) {\n          this.emitter.emit(x, data);\n        }\n      };\n      const mapEvent = this._mapEvents[x];\n      if (mapEvent) {\n        this.mapAdapter.emitter.on(x, mapEvent);\n      }\n    });\n  }\n\n  private _removeEventListeners(opt?: AddEventsListenersOptions): void {\n    let events = Object.entries(this._mapEvents) as [\n      keyof MainMapEvents,\n      ((...args: any[]) => void) | undefined,\n    ][];\n    if (opt && opt.include) {\n      events = events.filter((x) => opt.include.includes(x[0]));\n    }\n    events.forEach(([x, event]) => {\n      if (event) {\n        this.mapAdapter.emitter.removeListener(x as keyof MainMapEvents, event);\n      }\n    });\n  }\n}\n","import { preparePaint } from '@nextgis/paint';\nimport { propertiesFilter } from '@nextgis/properties-filter';\nimport { defined } from '@nextgis/utils';\n\nimport { updateGeoJsonAdapterOptions } from './utils/updateGeoJsonAdapterOptions';\nimport { WebMapMain } from './WebMapMain';\n\nimport type { Paint } from '@nextgis/paint';\nimport type { PropertiesFilter } from '@nextgis/properties-filter';\nimport type { FeatureProperties, TileJson, Type } from '@nextgis/utils';\nimport type { Feature, GeoJsonObject, Geometry } from 'geojson';\n\nimport type { LayerLegend } from '../../ngw-connector/src/types/LegendItem';\n\nimport type { LayerDef } from './interfaces/BaseTypes';\nimport type { WebMapEvents } from './interfaces/Events';\nimport type {\n  AdapterConstructor,\n  AdapterOptions,\n  DataLayerFilter,\n  FeatureLayerAdapter,\n  FilterOptions,\n  GeoJsonAdapterOptions,\n  GetLegendOptions,\n  ImageAdapterOptions,\n  LayerAdapter,\n  LayerAdapterDefinition,\n  LayerAdapters,\n  LayerAdaptersOptions,\n  LayerDefinition,\n  MainLayerAdapter,\n  OnLayerMouseOptions,\n  OnLayerSelectOptions,\n  TileAdapterOptions,\n  VectorLayerAdapter,\n} from './interfaces/LayerAdapter';\nimport type { FitOptions } from './interfaces/MapAdapter';\nimport type {\n  GetAttributionsOptions,\n  MapOptions,\n  ToggleLayerOptions,\n} from './interfaces/MapOptions';\n\ntype AddedLayers<M = any, L = any> = { [id: string]: LayerAdapter<M, L> };\n\nexport class WebMapLayers<\n  M = any,\n  L = any,\n  E extends WebMapEvents = WebMapEvents,\n  O extends MapOptions = MapOptions,\n> extends WebMapMain<M, E, O> {\n  private _layersIdCounter = 1;\n  private _layersOrderCounter = 1;\n  private readonly _baselayers: string[] = [];\n  private readonly _layers: AddedLayers<M, L> = {};\n  private readonly _selectedLayers: string[] = [];\n\n  constructor(mapOptions: O) {\n    super(mapOptions);\n    const tileJson = this.options.tileJson;\n    if (tileJson) {\n      this.emitter.once('build-map', () => this.addTileJsonLayer(tileJson));\n    }\n  }\n\n  /**\n   * Try to fit map view by given layer bounds.\n   * But not all layers have borders\n   */\n  async fitLayer(layerDef: LayerDef, options?: FitOptions): Promise<void> {\n    const layer = this.getLayer(layerDef);\n    // TODO: remove backward compatibility for `getExtent`\n    const getBounds = layer && (layer.getBounds || layer.getExtent);\n    if (getBounds) {\n      const extent = await getBounds.call(layer);\n      if (extent) {\n        this.fitBounds(extent, options);\n      }\n    }\n  }\n\n  /**\n   * Check if given layer is baselayer\n   */\n  isBaseLayer(layerDef: LayerDef): boolean | undefined {\n    const layer = this.getLayer(layerDef);\n    if (layer && layer.id) {\n      return this._baselayers.indexOf(layer.id) !== -1;\n    }\n    return undefined;\n  }\n\n  getBaseLayers(): LayerAdapter[] {\n    const baselayers: LayerAdapter[] = [];\n    this._baselayers.forEach((x) => {\n      const baselayer = this._layers[x];\n      if (baselayer) {\n        baselayers.push(baselayer);\n      }\n    });\n    return baselayers;\n  }\n\n  getBaseLayersIds(): string[] {\n    return this._baselayers;\n  }\n\n  /**\n   * Helper method to return added layer object by any definition type.\n   */\n  getLayer<LA extends LayerAdapter = LayerAdapter>(\n    layerDef: LayerDef,\n  ): LA | undefined {\n    if (typeof layerDef === 'string') {\n      return this._layers[layerDef] as LA;\n    }\n    return layerDef as LA;\n  }\n\n  /**\n   * Helper method to return added layer identificator by any definition type.\n   */\n  getLayerId(layerDef: LayerDef): string | undefined {\n    const layer = this.getLayer(layerDef);\n    if (layer) {\n      if (layer.id) {\n        return layer?.id;\n      }\n      if (layer && layer.options) {\n        return layer.options.id;\n      }\n    }\n    throw new Error('No id for layer');\n  }\n\n  /**\n   * Return array of all added layer identifications.\n   */\n  getLayers(): string[] {\n    return Object.keys(this._layers);\n  }\n\n  // TODO: rename to getLayers, getLayers rename to getLayersIds\n  allLayers(): AddedLayers<M, L> {\n    return this._layers;\n  }\n\n  orderedLayers<LA extends LayerAdapter<M, L> = LayerAdapter<M, L>>(): LA[] {\n    return Object.values(this._layers).sort((a, b) =>\n      a.order && b.order ? a.order - b.order : 0,\n    ) as LA[];\n  }\n\n  findLayer<T extends LayerAdapter = LayerAdapter>(\n    filter: (adapter: T) => boolean,\n  ): T | undefined {\n    for (const l in this._layers) {\n      const layerAdapter = this._layers[l] as T;\n      const isFit = filter(layerAdapter);\n      if (isFit) {\n        return layerAdapter;\n      }\n    }\n  }\n\n  /**\n   * Check if the given layer on the map\n   */\n  isLayerVisible(layerDef: LayerDef): boolean {\n    const layer = this.getLayer(layerDef);\n    return layer && layer.options.visibility !== undefined\n      ? layer.options.visibility\n      : false;\n  }\n\n  /**\n   * Shortcut method to create base layer\n   */\n  async addBaseLayer<\n    K extends keyof LayerAdapters,\n    O extends AdapterOptions = AdapterOptions,\n  >(\n    adapter: K | Type<LayerAdapters[K]>,\n    options?: O | LayerAdaptersOptions[K],\n  ): Promise<LayerAdapter> {\n    const layer = await this.addLayer(\n      adapter,\n      {\n        ...options,\n        baselayer: true,\n      },\n      undefined,\n    );\n\n    return layer;\n  }\n\n  /**\n   * Registration of map layer.\n   *\n   * @param adapter - The name of layer adapter from [MapAdapter.layerAdapters](webmap#MapAdapter.layerAdapters).\n   *                May be custom object or class implemented by [MainLayerAdapter](webmap#MainLayerAdapter).\n   * @param options - Specific options for given adapter\n   *\n   * @example\n   * ```javascript\n   * webMap.addLayer('TILE', options).then((layer) => webMap.showLayer(layer));\n   *\n   * webMap.addLayer(CustomLayerAdapter, options);\n   * ```\n   */\n  async addLayer<\n    K extends keyof LayerAdapters,\n    LO extends AdapterOptions = AdapterOptions,\n  >(\n    adapter: LayerAdapterDefinition<K>,\n    options: LO | LayerAdaptersOptions[K] = {},\n    order?: number,\n  ): Promise<LayerAdapter> {\n    const id = this._layersIdCounter++;\n    const _order = defined(order)\n      ? order\n      : options.order !== undefined\n        ? options.order\n        : this.reserveOrder();\n    let adapterEngine: Type<LayerAdapter<M, L, LO>> | undefined;\n    if (typeof adapter === 'string') {\n      adapterEngine = this.getLayerAdapter(adapter) as Type<\n        LayerAdapter<M, L, LO>\n      >;\n    } else if (typeof adapter === 'function') {\n      adapterEngine = adapter as Type<LayerAdapter<M, L, LO>>;\n    } else if (\n      'then' in (adapter as Promise<Type<LayerAdapters[K]> | undefined>)\n    ) {\n      adapterEngine = (await adapter) as Type<LayerAdapter<M, L, LO>>;\n    }\n\n    const geoJsonOptions = options as GeoJsonAdapterOptions;\n\n    this._updateGeoJsonOptions(geoJsonOptions);\n\n    options = {\n      id: String(id),\n      order: _order,\n      ...options,\n    };\n\n    // options.visibility is a layer global state\n    const visibility = options.visibility ?? true;\n    options.visibility = false;\n\n    if (options.baselayer) {\n      options.order = 0;\n    }\n    if (this.options.onBeforeAddLayer) {\n      const modified = this.options.onBeforeAddLayer({\n        options,\n        adapter: adapterEngine,\n      });\n      if (modified) {\n        if (modified.options) {\n          options = modified.options;\n        }\n        if (modified.adapter) {\n          adapterEngine = modified.adapter as Type<LayerAdapter<M, L, LO>>;\n        }\n      }\n    }\n    if (adapterEngine !== undefined) {\n      const _adapter = new adapterEngine(this.mapAdapter.map, options);\n      _adapter.options = { ...options, ..._adapter.options };\n\n      if (_adapter.options.baselayer) {\n        options.baselayer = true;\n        options.order = 0;\n        _adapter.options.order = 0;\n      }\n\n      let layerId: string | undefined;\n      if (_adapter.options.id) {\n        layerId = String(_adapter.options.id);\n\n        this._layers[layerId] = _adapter;\n      }\n      this._emitLayerEvent('layer:preadd', layerId || '', _adapter);\n      await this.onMapLoad();\n      _adapter.map = this.mapAdapter.map;\n      const layer = await _adapter.addLayer(_adapter.options);\n      // checking that the original layer was inserted into the adapter anyway\n      _adapter.layer = layer;\n      // think about how to move `id` to the adapter's constructor,\n      // but that it is not required in the options\n      _adapter.id = _adapter.options.id || String(id);\n      _adapter.options.id = _adapter.id;\n      if (options.baselayer) {\n        _adapter.options.order = 0;\n      }\n      _adapter.order = _adapter.options.order ?? _order;\n      if (layerId) {\n        delete this._layers[layerId];\n      }\n      layerId = String(_adapter.id);\n      if (this._layers[layerId]) {\n        throw Error(`layer with id '${layerId}' already exist`);\n      }\n      if (layerId) {\n        this._layers[layerId] = _adapter;\n\n        if (geoJsonOptions.filter) {\n          this.filterLayer(_adapter, geoJsonOptions.filter);\n        }\n        if (options.baselayer) {\n          this._baselayers.push(layerId);\n        }\n\n        if (visibility) {\n          await this.showLayer(layerId);\n        }\n      }\n      const opacity = options.opacity;\n      if (opacity !== undefined && opacity !== null && opacity <= 1) {\n        this.setLayerOpacity(_adapter, opacity);\n      }\n      // TODO: remove backward compatibility for `getExtent`\n      const getBounds = layer && (_adapter.getBounds || _adapter.getExtent);\n      if (options.fit && getBounds) {\n        const extent = await getBounds.call(_adapter);\n        if (extent) {\n          await this.fitBounds(extent);\n        }\n      }\n      if (options.onAdded) {\n        options.onAdded(_adapter);\n      }\n      this._emitLayerEvent('layer:add', layerId, _adapter);\n      return _adapter;\n    }\n    return Promise.reject('No adapter');\n  }\n\n  async addLayerFromAsyncAdapter<\n    K extends keyof LayerAdapters,\n    O extends AdapterOptions = AdapterOptions,\n  >(\n    adapter: AdapterConstructor,\n    options: O | LayerAdaptersOptions[K],\n    order?: number,\n  ): Promise<LayerAdapter> {\n    const _order =\n      order || options.order !== undefined\n        ? options.order\n        : this.reserveOrder();\n    const adapterConstructor = adapter as AdapterConstructor;\n    const adapterConstructorPromise = adapterConstructor();\n    const adapterEngine = await adapterConstructorPromise;\n    if (adapterEngine) {\n      return this.addLayer(adapterEngine, options, _order);\n    }\n    return Promise.reject('No adapter');\n  }\n\n  /**\n   * Remove all layer from map and memory.\n   */\n  removeLayers(\n    allowCb?: (layer: string, adapter: LayerAdapter) => boolean,\n  ): void {\n    for (const l in this._layers) {\n      let allow = true;\n      if (allowCb) {\n        allow = allowCb(l, this._layers[l]);\n      }\n      if (allow) {\n        this.removeLayer(l);\n        delete this._layers[l];\n      }\n    }\n  }\n\n  async getLegend(options?: GetLegendOptions): Promise<LayerLegend[]> {\n    const promises: Promise<LayerLegend[]>[] = [];\n    for (const l of this.orderedLayers()) {\n      if (l.getLegend) {\n        promises.push(l.getLegend(options));\n      }\n    }\n    return (await Promise.all(promises)).flat();\n  }\n\n  reserveOrder(): number {\n    return this._layersOrderCounter++;\n  }\n\n  /**\n   * Remove all layers but not remove basemap.\n   */\n  removeOverlays(): void {\n    this.removeLayers((layerId, layer) => {\n      if (layer && layer.options && layer.options.baselayer) {\n        return false;\n      }\n      return true;\n    });\n  }\n\n  /**\n   * Remove specific layer from map and memory by its definition.\n   */\n  removeLayer(layerDef: LayerDef): void {\n    const layer = this.getLayer(layerDef);\n    const layerId = layer && this.getLayerId(layer);\n    if (layer && layerId) {\n      this.emitter.emit('layer:preremove', layer);\n      if (layer.beforeRemove) {\n        layer.beforeRemove();\n      }\n      if (layer.removeLayer) {\n        layer.removeLayer();\n      } else {\n        this.mapAdapter.removeLayer(layer.layer);\n      }\n      if (layer.options && layer.options.baselayer) {\n        const index = this._baselayers.indexOf(layerId);\n        if (index) {\n          this._baselayers.splice(index, 1);\n        }\n      }\n      delete this._layers[layerId];\n      this.emitter.emit('layer:remove', layer);\n    }\n  }\n\n  /**\n   * Create layer from GeoJson data. Set style and behavior for selection.\n   *\n   * @example\n   * ```javascript\n   * // Add simple layer\n   * webMap.addGeoJsonLayer({ data: geojson, paint: { color: 'red' } });\n   *\n   * // Add styled by feature property layer with selection behavior\n   * webMap.addGeoJsonLayer({\n   *   data: geojson,\n   *   paint: function (feature) {\n   *     return { color: feature.properties.color, opacity: 0.5 }\n   *   },\n   *  selectedPaint: function (feature) {\n   *    return { color: feature.properties.selcolor, opacity: 1 }\n   *  },\n   *  selectable: true,\n   *  multiselect: true\n   * });\n   *\n   * // Add marker layer styled with use [Icons](icons)\n   * webMap.addGeoJsonLayer({ data: geojson, paint: webMap.getIcon({ color: 'orange' })});\n   *\n   * // work with added layer\n   * const layer = webMap.addGeoJsonLayer({ data: geojson, id: 'my_layer_name'});\n   * // access layer by id\n   * webMap.showLayer('my_layer_name');\n   * // or access layer by instance\n   * webMap.showLayer(layer);\n   * ```\n   */\n  addGeoJsonLayer<\n    K extends keyof LayerAdapters = keyof LayerAdapters,\n    O extends GeoJsonAdapterOptions<any, any> = GeoJsonAdapterOptions,\n  >(\n    opt: O = {} as O,\n    adapter?: LayerAdapterDefinition<K>,\n  ): Promise<VectorLayerAdapter<any, any, any>> {\n    opt = opt || ({} as O);\n    opt.multiselect = opt.multiselect !== undefined ? opt.multiselect : false;\n    opt.unselectOnSecondClick =\n      opt.unselectOnSecondClick !== undefined\n        ? opt.unselectOnSecondClick\n        : true;\n    if (!adapter) {\n      opt = updateGeoJsonAdapterOptions(opt);\n    }\n    opt.paint = opt.paint || {};\n    return this.addLayer(adapter || 'GEOJSON', opt);\n  }\n\n  /** Shortcut for {@link WebMapLayers.addGeoJsonLayer} to create GeoJson adapter with generic types for working in typescript */\n  addFeatureLayer<\n    P extends FeatureProperties = FeatureProperties,\n    G extends Geometry = Geometry,\n    O extends GeoJsonAdapterOptions<Feature<G, P>> = GeoJsonAdapterOptions<\n      Feature<G, P>\n    >,\n  >(options = {} as O): Promise<FeatureLayerAdapter<P, G>> {\n    return this.addGeoJsonLayer<'GEOJSON', O>(options) as Promise<\n      FeatureLayerAdapter<P, G>\n    >;\n  }\n\n  /** Shortcut for {@link WebMapLayers.addLayer} to create TileLayer adapter */\n  addTileLayer(\n    url: string,\n    options: Omit<TileAdapterOptions, 'url'> = {},\n  ): Promise<MainLayerAdapter<M, L, TileAdapterOptions>> {\n    return this.addLayer('TILE', { ...options, url }) as Promise<\n      MainLayerAdapter<M, L, TileAdapterOptions>\n    >;\n  }\n\n  /** Shortcut for {@link WebMapLayers.addLayer} to create TileLayer adapter */\n  addImageLayer(\n    url: string,\n    options: Omit<ImageAdapterOptions, 'url'>,\n  ): Promise<MainLayerAdapter<M, L, ImageAdapterOptions>>;\n  addImageLayer(\n    options: ImageAdapterOptions,\n  ): Promise<MainLayerAdapter<M, L, ImageAdapterOptions>>;\n  addImageLayer(\n    urlOrOptions: string | ImageAdapterOptions,\n    options?: Omit<ImageAdapterOptions, 'url'>,\n  ): Promise<MainLayerAdapter<M, L, ImageAdapterOptions>> {\n    let url;\n    if (typeof urlOrOptions === 'string') {\n      url = urlOrOptions;\n    } else {\n      url = urlOrOptions.url;\n      options = urlOrOptions;\n    }\n\n    return this.addLayer('IMAGE', { ...options, url }) as Promise<\n      MainLayerAdapter<M, L, ImageAdapterOptions>\n    >;\n  }\n\n  /**\n   * Show added layer on the map by it definition.\n   */\n  showLayer(\n    layerDef: LayerDef,\n    options: ToggleLayerOptions = {},\n  ): Promise<void> {\n    return this.toggleLayer(layerDef, true, options);\n  }\n\n  /**\n   * Hide added layer on the map by it definition.\n   */\n  hideLayer(\n    layerDef: LayerDef,\n    options: ToggleLayerOptions = {},\n  ): Promise<void> {\n    return this.toggleLayer(layerDef, false, options);\n  }\n\n  /**\n   * Change added layer visibility on the map by given status or inverse current status.\n   *\n   * @example\n   * ```javascript\n   * webMap.addLayer('TILE', {id: 'my_layer', url: ''}).then((layer) => {\n   *   webMap.toggleLayer(layer, true);\n   *   webMap.toggleLayer('my_layer', false);\n   *   webMap.toggleLayer('my_layer');\n   *   webMap.isLayerVisible(layer); // true\n   * });\n   * ```\n   */\n  toggleLayer(\n    layerDef: LayerDef,\n    status?: boolean,\n    options: ToggleLayerOptions = {},\n  ): Promise<void> {\n    const layer = this.getLayer(layerDef);\n\n    const onMap = layer && layer.options.visibility;\n    const toStatus = status !== undefined ? status : !onMap;\n    const silent = options.silent !== undefined ? options.silent : false;\n    const action = async (l: LayerAdapter) => {\n      const id = String(l.id);\n      const preEventName = toStatus ? 'layer:preshow' : 'layer:prehide';\n      const eventName = toStatus ? 'layer:show' : 'layer:hide';\n      if (!silent) {\n        this._emitLayerEvent(preEventName, id, l);\n        this._emitLayerEvent('layer:pretoggle', id, l);\n      }\n      if (toStatus && this.mapAdapter) {\n        const order = l.options.baselayer ? 0 : l.options.order;\n\n        // do not show baselayer if another on the map\n        if (l.options.baselayer && this._baselayers.length) {\n          const anotherVisibleBaselayers = this._baselayers.filter((x) => {\n            return x !== l.id && this.isLayerVisible(x);\n          });\n          for (const bl of anotherVisibleBaselayers) {\n            await this.hideLayer(bl);\n          }\n        }\n        if (l.showLayer) {\n          await l.showLayer.call(l, l.layer);\n        } else if (l.layer !== undefined) {\n          await this.mapAdapter.showLayer(l.layer);\n        }\n        if (order !== undefined) {\n          this.mapAdapter.setLayerOrder(l.layer, order, this._layers);\n        }\n      } else {\n        if (l.hideLayer) {\n          await l.hideLayer.call(l, l.layer);\n        } else if (l.layer !== undefined) {\n          await this.mapAdapter.hideLayer(l.layer);\n        }\n      }\n      l.options.visibility = toStatus;\n      if (!silent) {\n        this._emitLayerEvent(eventName, id, l);\n        this._emitLayerEvent('layer:toggle', id, l);\n      }\n    };\n    if (layer) {\n      return this.onMapLoad().then(() => action(layer));\n    }\n    return Promise.resolve();\n  }\n\n  updateLayer(\n    layerDef: LayerDef,\n    options?: { params?: Record<string, string> },\n  ): Promise<void> {\n    const layer = this.getLayer(layerDef);\n    if (layer) {\n      if (layer.updateLayer) {\n        return Promise.resolve(layer.updateLayer(options));\n      } else if (this.isLayerVisible(layer)) {\n        return this.hideLayer(layer, { silent: true }).then(() => {\n          return this.showLayer(layer, { silent: true });\n        });\n      }\n    }\n    return Promise.resolve();\n  }\n\n  /**\n   * Set transparency for a given layer by number from 0 to 1\n   */\n  setLayerOpacity(layerDef: LayerDef, value: number): void {\n    const layer = this.getLayer(layerDef);\n    if (layer) {\n      if (layer.setOpacity) {\n        layer.setOpacity(value);\n      } else if (this.mapAdapter.setLayerOpacity) {\n        this.mapAdapter.setLayerOpacity(layer.layer, value);\n      }\n    }\n  }\n\n  isLayerLabelVisible(layerDef: LayerDef): boolean {\n    const layer = this.getLayer(layerDef) as VectorLayerAdapter;\n    if (layer.isLabelVisible) {\n      return layer.isLabelVisible();\n    }\n    return layer.options.labelVisibility ?? true;\n  }\n\n  showLayerLabel(layerDef: LayerDef): void {\n    this.toggleLayerLabel(layerDef, true);\n  }\n\n  hideLayerLabel(layerDef: LayerDef): void {\n    this.toggleLayerLabel(layerDef, false);\n  }\n\n  toggleLayerLabel(layerDef: LayerDef, status?: boolean): boolean {\n    const layer = this.getLayer(layerDef) as VectorLayerAdapter;\n    status = status ?? !this.isLayerLabelVisible(layerDef);\n    if (layer) {\n      if (status) {\n        if (layer.showLabel) {\n          layer.options.labelVisibility = true;\n          layer.showLabel();\n        }\n      } else {\n        if (layer.hideLabel) {\n          layer.options.labelVisibility = false;\n          layer.hideLabel();\n        }\n      }\n      if (layer.id) {\n        this._emitLayerEvent('layer:label:toggle', layer.id, layer);\n      }\n    }\n    return status;\n  }\n\n  /**\n   * Mark the layer as selected.\n   * If the adapter is a vector layer and supports data selection,\n   * you can pass a callback function to specify which data will be selected.\n   *\n   * @example\n   * ```javascript\n   * const layer = webMap.addLayer('GEOJSON', {data: geojson}).then((layer) => {\n   *   webMap.selectLayer(layer, ({feature}) => feature.id === '42');\n   * });\n   * ```\n\n   */\n  selectLayer(layerDef: LayerDef, findFeatureFun?: DataLayerFilter): void {\n    const layer = this.getLayer(layerDef);\n    if (layer) {\n      const adapter = layer as VectorLayerAdapter;\n      if (adapter && adapter.select) {\n        adapter.select(findFeatureFun);\n      }\n      const layerId = this.getLayerId(layer);\n      if (layerId) {\n        this._selectedLayers.push(layerId);\n      }\n    }\n  }\n\n  /**\n   * Unselect the given layer.\n   * If the adapter is a vector layer and supports data selection,\n   * you can pass a callback function to specify which data will be unselected.\n   *\n   * @example\n   * ```javascript\n   * const layer = webMap.addLayer('GEOJSON', {data: geojson}).then((layer) => {\n   *   webMap.unSelectLayer(layer, ({feature}) => feature.id === '42');\n   * });\n   * ```\n   *\n   */\n  unSelectLayer(layerDef: LayerDef, findFeatureFun?: DataLayerFilter): void {\n    const layer = this.getLayer(layerDef);\n    if (layer) {\n      const adapter = layer && (layer as VectorLayerAdapter);\n      if (adapter.unselect) {\n        adapter.unselect(findFeatureFun);\n      }\n      const layerId = this.getLayerId(layer);\n      if (layerId) {\n        const index = this._selectedLayers.indexOf(layerId);\n        if (index !== -1) {\n          this._selectedLayers.splice(index, 1);\n        }\n      }\n    }\n  }\n  /** Remove selection from any selected selectable layer */\n  unSelectLayers(): void {\n    const layers = Object.values(this.allLayers());\n    let l: VectorLayerAdapter;\n    for (l of layers) {\n      if (l.unselect) {\n        l.unselect();\n      }\n    }\n  }\n\n  /**\n   * Hide features from a vector layer using a callback function.\n   *\n   * @example\n   * ```javascript\n   * const layer = webMap.addLayer('GEOJSON', {data: geojson}).then((layer) => {\n   *   webMap.filterLayer(layer, ({feature}) => feature.id === '42');\n   * });\n   * ```\n   *\n   */\n  filterLayer(\n    layerDef: LayerDef,\n    filter: DataLayerFilter<Feature, L>,\n  ): LayerDefinition<Feature, L>[] {\n    const layer = this.getLayer(layerDef);\n    const adapter = layer as VectorLayerAdapter;\n    if (adapter.filter) {\n      return adapter.filter(filter);\n    }\n    return [];\n  }\n\n  propertiesFilter(\n    layerDef: LayerDef,\n    filters: PropertiesFilter,\n    options?: FilterOptions,\n  ): Promise<void> {\n    const layer = this.getLayer(layerDef);\n    if (layer) {\n      const adapter = layer as VectorLayerAdapter;\n      if (adapter.propertiesFilter) {\n        return adapter.propertiesFilter(filters, options);\n      } else if (adapter.filter) {\n        this.filterLayer(adapter, (e) => {\n          if (e.feature && e.feature.properties) {\n            return propertiesFilter(e.feature.properties, filters);\n          }\n          return true;\n        });\n      }\n    }\n    return Promise.resolve();\n  }\n\n  removeLayerFilter(layerDef: LayerDef): void {\n    const layer = this.getLayer(layerDef);\n    const adapter = layer as VectorLayerAdapter;\n    if (adapter.removeFilter) {\n      adapter.removeFilter();\n    } else if (adapter.filter) {\n      adapter.filter(() => {\n        return true;\n      });\n    }\n  }\n\n  /**\n   * Sets the GeoJSON data for given vector layer.\n   *\n   * @example\n   * ```javascript\n   * const layer = webMap.addLayer('GEOJSON').then((layer) => {\n   *   webMap.setLayerData(layer, geojson);\n   * });\n   * ```\n   */\n  setLayerData(layerDef: LayerDef, data: GeoJsonObject): void | Promise<void> {\n    const vectorAdapter = this.getLayer(layerDef);\n    const adapter = vectorAdapter as VectorLayerAdapter;\n    if (adapter) {\n      if (adapter.setData) {\n        return adapter.setData(data);\n      } else if (adapter.clearLayer && adapter.addData) {\n        adapter.clearLayer();\n        return adapter.addData(data);\n      }\n    }\n    return Promise.resolve();\n  }\n\n  /**\n   * Push new the GeoJSON features into given vector layer.\n   *\n   * @example\n   * ```javascript\n   * const layer = webMap.addLayer('GEOJSON', {data: geojson_features_5}).then((layer) => {\n   *   console.log(layer.getLayers().length) // > 5;\n   *   webMap.addLayerData(layer, geojson_features_3);\n   *   console.log(layer.getLayers().length) // > 8;\n   * });\n   * ```\n   */\n  addLayerData(layerDef: LayerDef, data: GeoJsonObject): void {\n    const layerMem = this.getLayer(layerDef);\n    const adapter = layerMem as VectorLayerAdapter;\n    if (adapter.addData) {\n      adapter.addData(data);\n    }\n  }\n\n  /**\n   * Remove from vector layer all features.\n   * it is possible to remove only some objects if you specify a callback function.\n   *\n   * @example\n   * ```javascript\n   * const layer = webMap.addLayer('GEOJSON', {data: geojson}).then((layer) => {\n   *   webMap.clearLayerData(layer, (feture) => feture.id === 42);\n   *   webMap.clearLayerData(layer);\n   * });\n   * ```\n   */\n  clearLayerData(layerDef: LayerDef, cb?: (feature: Feature) => boolean): void {\n    const layerMem = this.getLayer(layerDef);\n    const adapter = layerMem as VectorLayerAdapter;\n    if (adapter && adapter.clearLayer) {\n      adapter.clearLayer(cb);\n    }\n  }\n\n  setLayerPaint(layerDef: LayerDef, paint?: Paint | null): void {\n    const layer = this.getLayer(layerDef);\n    if (paint && layer && layer.setPaint) {\n      layer.setPaint(paint);\n    }\n  }\n  setLayerSelectedPaint(layerDef: LayerDef, paint?: Paint | null): void {\n    const layer = this.getLayer(layerDef);\n    if (paint && layer && layer.setSelectedPaint) {\n      layer.setSelectedPaint(paint);\n    }\n  }\n  updateLayerPaint(layerDef: LayerDef, paint: Partial<Paint>): void {\n    const layer = this.getLayer(layerDef);\n    if (paint && layer && layer.updatePaint) {\n      layer.updatePaint(paint);\n    }\n  }\n  updateLayerSelectedPaint(layerDef: LayerDef, paint: Partial<Paint>): void {\n    const layer = this.getLayer(layerDef);\n    if (paint && layer && layer.updateSelectedPaint) {\n      layer.updateSelectedPaint(paint);\n    }\n  }\n\n  getAttributions(options: GetAttributionsOptions): string[] {\n    const attributions: string[] = [];\n    for (const l in this._layers) {\n      const layerCache = this._layers[l];\n      const onlyVisible =\n        options.onlyVisible !== undefined ? options.onlyVisible : true;\n      let useLayerAttr = onlyVisible ? layerCache.options.visibility : true;\n      if (useLayerAttr && options.onlyBaselayer) {\n        useLayerAttr = this._baselayers.includes(l);\n      }\n      if (useLayerAttr) {\n        const attr = layerCache.options && layerCache.options.attribution;\n        if (attr) {\n          attributions.push(attr);\n        }\n      }\n    }\n\n    return attributions;\n  }\n\n  getActiveBaseLayer(): MainLayerAdapter<M, any, AdapterOptions> | undefined {\n    const visibleLayerBaseLayer = this.getBaseLayers().find((x) => {\n      return this.isLayerVisible(x);\n    });\n    if (visibleLayerBaseLayer) {\n      return this.getLayer(visibleLayerBaseLayer);\n    }\n  }\n\n  addTileJsonLayer(\n    tileJson: TileJson,\n  ): Promise<MainLayerAdapter<M, any, TileAdapterOptions>> {\n    // if (this.mapAdapter.createTileJsonlayer) {\n    // } else {\n\n    const url = tileJson.tiles[0];\n    return this.addLayer('TILE', {\n      url,\n      maxZoom: tileJson.maxzoom,\n      minZoom: tileJson.minzoom,\n      subdomains: tileJson.scheme,\n      attribution: tileJson.attribution,\n    }) as Promise<MainLayerAdapter<M, any, TileAdapterOptions>>;\n  }\n\n  /** @internal */\n  _emitLayerEvent(name: keyof E, id: string, options?: unknown) {\n    const name_ = String(name);\n    if (defined(id) && name_.startsWith('layer:')) {\n      const specificLayerName = name_.replace('layer:', 'layer-' + id + ':');\n      this.emitter.emit(specificLayerName as keyof WebMapEvents, options);\n    }\n    this.emitter.emit(name as keyof WebMapEvents, options);\n  }\n\n  private async _onLayerClick(options: OnLayerMouseOptions) {\n    const id = options.layer.id;\n    this._emitLayerEvent('layer:click', id || '', options);\n    return Promise.resolve(options);\n  }\n  private async _onLayerDoubleClick(options: OnLayerMouseOptions) {\n    const id = options.layer.id;\n    this._emitLayerEvent('layer:dblclick', id || '', options);\n    return Promise.resolve(options);\n  }\n\n  private async _onLayerSelect(options: OnLayerSelectOptions) {\n    this._emitLayerEvent('layer:select', options.layer.id || '', options);\n    return Promise.resolve(options);\n  }\n\n  private _updateGeoJsonOptions(options: GeoJsonAdapterOptions) {\n    const {\n      onSelect,\n      onLayerSelect,\n      onClick,\n      onDoubleClick,\n      onLayerClick,\n      onMouseOut,\n      onMouseOver,\n    } = options;\n    const onLayerClickFromOpt = onClick || onLayerClick;\n    const onLayerDblClickFromOpt = onDoubleClick || onLayerClick;\n    options.onClick = (e) => {\n      if (onLayerClickFromOpt) {\n        onLayerClickFromOpt(e);\n      }\n      return this._onLayerClick(e);\n    };\n    options.onDoubleClick = (e) => {\n      if (onLayerDblClickFromOpt) {\n        onLayerDblClickFromOpt(e);\n      }\n      return this._onLayerDoubleClick(e);\n    };\n\n    options.onMouseOut = (e) => {\n      const id = e.layer.id;\n      if (onMouseOut) onMouseOut(e);\n      if (defined(id)) {\n        this._emitLayerEvent(`layer:mouseout`, id, e);\n      }\n    };\n\n    options.onMouseOver = (e) => {\n      const id = e.layer.id;\n      if (onMouseOver) onMouseOver(e);\n      if (defined(id)) {\n        this._emitLayerEvent(`layer:mouseover`, id, e);\n      }\n    };\n\n    // TODO: remove backward compatibility for onLayerSelect\n    const onLayerSelectFromOpt = onSelect || onLayerSelect;\n    options.onSelect = (e) => {\n      if (onLayerSelectFromOpt) {\n        onLayerSelectFromOpt(e);\n      }\n      return this._onLayerSelect(e);\n    };\n\n    if (!options.nativePaint) {\n      if (this.options.paint) {\n        options.paint = preparePaint({\n          paint: options.paint || {},\n          defaultPaint: this.options.paint,\n          getPaintFunctions: this.getPaintFunctions,\n        });\n      }\n      if (options.selectedPaint && this.options.selectedPaint) {\n        options.selectedPaint = preparePaint({\n          paint: options.selectedPaint,\n          defaultPaint: this.options.selectedPaint,\n          getPaintFunctions: this.getPaintFunctions,\n        });\n      }\n    }\n  }\n}\n","import { createToggleControl } from './components/controls/createToggleControl';\nimport { WebMapLayers } from './WebMapLayers';\n\nimport type { WebMapEvents } from './interfaces/Events';\nimport type { ControlPosition } from './interfaces/MapAdapter';\nimport type {\n  ButtonControlOptions,\n  CreateControlOptions,\n  MapControl,\n  MapControls,\n  ToggleControl,\n  ToggleControlOptions,\n} from './interfaces/MapControl';\nimport type { MapOptions } from './interfaces/MapOptions';\nimport type { WebMapMain } from './WebMapMain';\n\n/**\n * Collection of methods for managing map controls\n */\nexport class WebMapControls<\n    M = any,\n    L = any,\n    C extends object = any,\n    E extends WebMapEvents = WebMapEvents,\n    O extends MapOptions = MapOptions,\n  >\n  extends WebMapLayers<M, L, E, O>\n  implements WebMapLayers, WebMapMain\n{\n  static controls: {\n    [name: string]: (webMap: WebMapControls, options?: any) => any;\n  } = {\n    CONTROL: (\n      webMap: WebMapControls,\n      options: {\n        control: MapControl;\n        options?: CreateControlOptions;\n      },\n    ) => {\n      return webMap.createControl(options.control, options.options);\n    },\n    BUTTON: (webMap: WebMapControls, options: ButtonControlOptions) => {\n      return webMap.createButtonControl(options);\n    },\n    TOGGLE: (webMap: WebMapControls, options: ToggleControlOptions) => {\n      return webMap.createToggleControl(options);\n    },\n  };\n\n  private _loadControlQueue: {\n    [key in ControlPosition]: (() => Promise<any>)[];\n  } = {\n    'top-right': [],\n    'bottom-right': [],\n    'top-left': [],\n    'bottom-left': [],\n  };\n  private _isControlLoading: { [key in ControlPosition]: boolean } = {\n    'top-right': false,\n    'bottom-right': false,\n    'top-left': false,\n    'bottom-left': false,\n  };\n\n  async addControl<K extends keyof MapControls>(\n    controlDef: K | C,\n    position: ControlPosition,\n    options?: MapControls[K],\n  ): Promise<any> {\n    let control: C | undefined;\n    position = position ?? 'top-left';\n    if (typeof controlDef === 'string') {\n      control = this.getControl(controlDef, options);\n    } else {\n      control = controlDef as C;\n    }\n    if (control) {\n      return new Promise<() => Promise<any>>((resolve) => {\n        const promise = async () => {\n          const _control = await control;\n          const c = this.mapAdapter.addControl(_control, position);\n          resolve(c);\n        };\n        this._setControlQueue(position, promise);\n      });\n    }\n  }\n\n  /**\n   * Creating a universal map layout control element. Can be used with any map adapter.\n   *\n   * @example\n   * ```javascript\n   * const control = webMap.createControl({\n   *   onAdd() {\n   *     return document.createElement('div');\n   *   }\n   * });\n   * ```\n   */\n  async createControl(\n    control: MapControl,\n    options?: CreateControlOptions,\n  ): Promise<C | undefined> {\n    await this.onLoad('build-map');\n    if (this.mapAdapter.createControl) {\n      return this.mapAdapter.createControl(control, options);\n    }\n  }\n\n  async createButtonControl(\n    options: ButtonControlOptions,\n  ): Promise<C | undefined> {\n    await this.onLoad('build-map');\n    if (this.mapAdapter.createButtonControl) {\n      return this.mapAdapter.createButtonControl(options);\n    }\n  }\n\n  /**\n   * Create any toggler control button\n   * @param options - Options for control layout customization and assigning a callback function\n   *\n   * @example\n   * ```javascript\n   * const toggleControl = ngwMap.createToggleControl({\n   *   getStatus: () => webMap.isLayerVisible('any-layer-id'),\n   *   onClick: (status) => ngwMap.toggleLayer('webmap', status),\n   *   html: {\n   *     on: 'ON',\n   *     off: 'OFF'\n   *   },\n   *   title: 'Toggle layer visibility'\n   * });\n   * webMap.addControl(toggleControl, 'top-right');\n   * ```\n   * {@link http://code.nextgis.com/demo-examples-toggle-control | Toggle button control example}\n   */\n  async createToggleControl(\n    options: ToggleControlOptions,\n  ): Promise<(C & ToggleControl) | undefined> {\n    await this.onLoad('build-map');\n    if (this.mapAdapter.createToggleControl) {\n      return this.mapAdapter.createToggleControl(options);\n    } else {\n      if (this.mapAdapter.createButtonControl) {\n        return createToggleControl<C>(\n          this.mapAdapter.createButtonControl,\n          options,\n        );\n      }\n    }\n  }\n\n  /**\n   *\n   * @param control - Instance of WEB-GIS framework control.\n   *                  What is returned by the {@link createControl | create} method\n   */\n  removeControl(control: C): void {\n    if ('remove' in control) {\n      // @ts-expect-error TODO: ugly code, rewrite\n      control.remove();\n    } else if (this.mapAdapter.removeControl) {\n      Promise.resolve(control).then((c) => {\n        this.mapAdapter.removeControl(c);\n      });\n    }\n  }\n\n  /**\n   * Get instance of registered control\n   * @param control - Any registered control string name\n   * @param options - Custom control options\n   */\n  getControl<K extends keyof MapControls>(\n    control: K,\n    options?: MapControls[K],\n  ): C | undefined {\n    const engine = this.mapAdapter.controlAdapters[control];\n    if (engine) {\n      return new engine(options);\n    } else {\n      const createFun = WebMapControls.controls[control];\n      if (createFun) {\n        return createFun(this, options);\n      }\n    }\n  }\n\n  getControlContainer(): HTMLElement | undefined {\n    if (this.mapAdapter.getControlContainer) {\n      return this.mapAdapter.getControlContainer();\n    }\n  }\n\n  private _setControlQueue(position: ControlPosition, cb: () => Promise<any>) {\n    this._loadControlQueue[position].push(cb);\n    if (!this._isControlLoading[position]) {\n      this._applyControls(position);\n    }\n  }\n\n  private async _applyControls(position: ControlPosition) {\n    if (this._loadControlQueue[position].length) {\n      this._isControlLoading[position] = true;\n      const controlCb = this._loadControlQueue[position][0];\n      await controlCb();\n      this._loadControlQueue[position].splice(0, 1);\n      this._applyControls(position);\n    } else {\n      this._isControlLoading[position] = false;\n    }\n  }\n}\n","/**\n * @privateRemarks\n * Since it was not possible to split the code through mixins, inheritance was used.\n * The `ts-mixin` plugin worked fine, but led to errors in IE.\n *\n * Now inheritance is as follow:\n * BaseWebMap \\> WebMapLayers \\> WebMap\n *\n * Will need to be done this way:\n * ```javascript\n * class WebMap extend mixin(WebMapLayers, WebMapControls) {}\n * ```\n *\n * This approach can also be considered\n * ```javascript\n * class WebMap {\n *   layers: WebMapLayers;\n *   controls  WebMapControls\n * }\n * ```\n * and then\n *\n * const webMap = new WebMap(...);\n * webMap.layers.addLayer(...)\n *\n * looks good, but will add difficulty in inheriting from WebMap\n *\n * old:\n * ```javascript\n * class NgwMap extends WebMap {\n *   addLayer(...) {\n *      super.addLayer(...)\n *   }\n * }\n * ```\n * new:\n * ```javascript\n * class NgwLayers extends WebMapLayers {\n *   addLayer(...) {\n *     super.addLayer(...)\n *   }\n * }\n *\n * class NgwMap extends WebMap {\n *   layersClass = NgwLayers\n * }\n * ```\n * ...and there will be compatibility issues\n */\n\nimport { getWebMap, setWebMap } from './container';\nimport { WebMapControls } from './WebMapControls';\n\nimport type { WebMapEvents } from './interfaces/Events';\nimport type { ControlOptions } from './interfaces/MapControl';\nimport type { MapOptions } from './interfaces/MapOptions';\nimport type { WebMapLayers } from './WebMapLayers';\nimport type { WebMapMain } from './WebMapMain';\n\n/**\n * The core component for managing map adapters.\n * It contains methods for adding and manipulation with\n * {@link WebMapMain | map}, {@link WebMapLayers | layers} and {@link WebMapControls | controls}.\n *\n * @example\n * ```javascript\n * import { WebMap } from '@nextgis/webmap';\n * import MapAdapter from '@nextgis/ol-map-adapter';\n *\n * const webMap = new WebMap({\n *   mapAdapter: new MapAdapter(),\n *   target: 'map',\n * });\n * ```\n *\n * @typeParam M - Interactive Map used in the adapter\n * @typeParam L - Layer\n * @typeParam C - Control\n * @typeParam E - Events\n *\n */\nexport class WebMap<\n    M = any,\n    L = any,\n    C extends object = any,\n    E extends WebMapEvents = WebMapEvents,\n    O extends MapOptions = MapOptions,\n  >\n  extends WebMapControls<M, L, C, E, O>\n  implements WebMapControls, WebMapLayers, WebMapMain\n{\n  constructor(mapOptions: O) {\n    super(mapOptions);\n    this._addControls();\n    setWebMap(this.id, this);\n  }\n\n  static get<T extends WebMap = WebMap>(id: number): T {\n    return getWebMap<T>(id);\n  }\n\n  /**\n   * @internal\n   */\n  protected async _addLayerProviders(): Promise<void> {\n    for await (const kit of this._starterKits) {\n      if (kit.getLayerAdapters) {\n        const adapters = await kit.getLayerAdapters.call(kit);\n        if (adapters) {\n          for await (const adapter of adapters) {\n            const newAdapter = await adapter.createAdapter(this);\n            if (newAdapter) {\n              this.mapAdapter.layerAdapters[adapter.name] = newAdapter;\n            }\n          }\n        }\n      }\n    }\n  }\n\n  /**\n   * @internal\n   */\n  protected async _onLoadSync(): Promise<void> {\n    for await (const kit of this._starterKits) {\n      if (kit.onLoadSync) {\n        try {\n          await kit.onLoadSync.call(kit, this);\n        } catch (er) {\n          console.error(er);\n        }\n      }\n    }\n  }\n\n  private _addControls(): void {\n    if (this.options.controls) {\n      this.options.controls.forEach((x) => {\n        let controlAdapterName = x;\n        let controlOptions: ControlOptions = {};\n        if (typeof x === 'string' && this.options.controlsOptions) {\n          if (this.options.controlsOptions[x]) {\n            controlOptions = this.options.controlsOptions[x];\n            if (controlOptions.control !== undefined) {\n              controlAdapterName = controlOptions.control;\n            }\n          }\n        }\n        const { position, ...options } = controlOptions;\n        this.addControl(controlAdapterName, position || 'top-left', options);\n      });\n    }\n    this._emitStatusEvent('controls:create');\n  }\n}\n","export function getDefaultControls(): string[] {\n  return ['ZOOM', 'ATTRIBUTION'];\n}\n","import { WebMap } from './WebMap';\n\nimport type { MapOptions } from './interfaces/MapOptions';\n\nexport * from './components/controls/createToggleControl';\nexport * from './container';\nexport * from './interfaces/BaseTypes';\nexport * from './interfaces/Events';\nexport * from './interfaces/LayerAdapter';\nexport * from './interfaces/MapAdapter';\nexport * from './interfaces/MapControl';\nexport * from './interfaces/MapOptions';\nexport * from './interfaces/RuntimeParams';\nexport * from './interfaces/StarterKit';\nexport * from './utils/geometryTypes';\nexport * from './utils/getDefaultControls';\nexport * from './utils/updateGeoJsonAdapterOptions';\nexport * from './WebMapControls';\nexport * from './WebMapLayers';\nexport * from './WebMapMain';\n\nexport { WebMap };\n\nexport async function createWebMap(options: MapOptions): Promise<WebMap> {\n  const webMap = new WebMap(options);\n  return webMap.onLoad();\n}\n"],"names":["e","f","__spreadValues","expressionCallback","__publicField","__async","iter","more","temp","error"],"mappings":"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"}