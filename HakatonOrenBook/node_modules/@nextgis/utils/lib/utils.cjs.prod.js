"use strict";function t(t){return function(t,e=[]){for(;null!==t;t=Object.getPrototypeOf(t)){const o=Object.getOwnPropertyNames(t);for(let t=0;t<o.length;t++)-1==e.indexOf(o[t])&&e.push(o[t])}return e}(t)}function e(t,e){return t.length===e.length&&t.every((function(t,o){return t===e[o]}))}Object.defineProperty(exports,"__esModule",{value:!0});var o=Object.defineProperty,r=(t,e,r)=>((t,e,r)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r)(t,e+"",r);class n{constructor(t){r(this,"silent",!0),t&&this.copy(t)}static copy(t){return(new n).copy(t)}copy(t){try{return navigator.clipboard?navigator.clipboard.writeText(t):window.clipboardData?window.clipboardData.setData("text",t):this.copyToClipboard(t),this.silent||console.log("Copied to Clipboard"),!0}catch{this.silent||console.log("Please copy manually")}return!1}copyToClipboard(t){const e=document.createElement("input");e.value=t;try{document.body.appendChild(e),this.copyNodeContentsToClipboard(e)}finally{document.body.removeChild(e)}}copyNodeContentsToClipboard(t){t.select(),t.setSelectionRange(0,99999),document.execCommand("copy")}}function i(t,e=10){let o;function r(...n){r.clear(),o=setTimeout((()=>{o=null,t.apply(this,n)}),e)}return r.clear=function(){o&&(clearTimeout(o),o=null)},r}function s(t){return null!=t}var c=Object.defineProperty,a=(t,e,o)=>((t,e,o)=>e in t?c(t,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):t[e]=o)(t,e+"",o);const u=6371;function p(t,e){f(t,(t=>{if("coordinates"in t)if("Polygon"===t.type||"MultiLineString"===t.type)for(const o of t.coordinates)o.forEach((t=>e(t)));else if("MultiPolygon"===t.type)for(const o of t.coordinates)o.forEach((t=>t.forEach((t=>e(t)))));else if("Point"===t.type)e(t.coordinates);else if("MultiPoint"===t.type||"LineString"===t.type)for(const o of t.coordinates)e(o);return t}))}function f(t,e){if("FeatureCollection"===t.type)for(const o of t.features)e(o.geometry);else"Feature"===t.type?e(t.geometry):"coordinates"in t&&e(t)}function l(t){return{type:"Polygon",coordinates:[y(t)]}}function y(t){const e=[t[0],t[1]];return[e,[t[2],t[1]],[t[2],t[3]],[t[0],t[3]],e]}const d=Math.PI/180,g=180/Math.PI;function h(t,e,o=10,r=6){const n=o/u*g,i=n/Math.cos(e*d),s=[];for(let c=0;c<r+1;c++){const o=Math.PI*(c/(r/2)),a=t+i*Math.cos(o),u=e+n*Math.sin(o);s.push([a,u])}return s}const b=Math.PI/180,x=180/Math.PI;function m(t,e,o,r){if(t instanceof Array)return e instanceof Array&&e.sort().join("")===t.sort().join("");if(t instanceof Date)return e instanceof Date&&""+t==""+e;if(t instanceof Function){if(!(e instanceof Function))return!1}else if(t instanceof Object)return e instanceof Object&&(t===o?e===r:j(t,e));return t===e}function j(t,e){const o=Object.keys(t).sort(),r=Object.keys(e).sort();if(o.length!==r.length)return!1;if(o.join("")!==r.join(""))return!1;for(let n=0;n<o.length;n++){if(!m(t[o[n]],e[r[n]],t,e))return!1}return!0}const P="undefined"!=typeof window&&void 0!==window.document,O=P?"browser":"node";function M(t,e){return("string"==typeof e||"number"==typeof e)&&e in t}function A(t){return"boolean"==typeof t||"number"==typeof t||"string"==typeof t||null===t||(C(t)?w(t):!!E(t)&&v(t))}function v(t){return!!E(t)&&t.every(A)}function w(t){if(C(t))for(const e in t)if(!A(e))return!1;return!1}function C(t){return"[object Object]"===Object.prototype.toString.call(t)}function E(t){return"[object Array]"===Object.prototype.toString.call(t)}exports.Clipboard=n,exports.DebounceDecorator=function(t=10){return function(e,o,r){return{configurable:!0,enumerable:r.enumerable,get:function(){return Object.defineProperty(this,o,{configurable:!0,enumerable:r.enumerable,value:i(r.value,t)}),this[o]}}}},exports.EARTHS_RADIUS=u,exports.Events=class{constructor(t){this.emitter=t,a(this,"_eventsStatus",{})}setEventStatus(t,e){this._eventsStatus[t]=e}onLoad(t){const e=(Array.isArray(t)?t:[t]).map((t=>new Promise((e=>{if(this.getEventStatus(t))e(this);else{this.emitter.once(t,(()=>{this.setEventStatus(t,!0),e(this)}))}}))));return Promise.all(e).then((()=>this))}getEventStatus(t){const e=this._eventsStatus[t];return void 0!==e&&!!e}},exports.allProperties=t,exports.applyMixins=function(e,o,r={}){const n=t(e.prototype),i=void 0===r.replace||r.replace;o.forEach((t=>{Object.getOwnPropertyNames(t.prototype).forEach((o=>{const r=-1!==n.indexOf(o);if(!i&&!r||i){const r=Object.getOwnPropertyDescriptor(t.prototype,o);r&&Object.defineProperty(e.prototype,o,r)}}))}))},exports.arrayChunk=function(t,e){return Array.from({length:Math.ceil(t.length/e)},((o,r)=>t.slice(r*e,r*e+e)))},exports.arrayCompare=function(t,o){return e(t=Array.from(t).sort(),o=Array.from(o).sort())},exports.arrayCompareStrict=function(t,o){return e(t=Array.from(t),o=Array.from(o))},exports.arrayUnique=function(t){return t.filter(((t,e,o)=>o.indexOf(t)==e))},exports.camelize=function(t,e=/[_.\- ]/){const o=t.split(e);let r="";for(let n=0;n<o.length;n++){const t=o[n];r+=t.charAt(0).toUpperCase()+t.slice(1)}return r},exports.capitalize=function(t){return(t=String(t).toLowerCase())[0].toUpperCase()+t.slice(1)},exports.checkExtent=function(t){const[e,o,r,n]=t,i=e<r&&o<n;if(!i){console.log("Error: The extent coordinates are not in the correct order."),console.log(`Received extent: [${e}, ${o}, ${r}, ${n}]`);const t=[Math.min(e,r),Math.min(o,n),Math.max(e,r),Math.max(n,o)];console.log(`Expected order: [${t.join(", ")}]`)}const s=e>=-180&&r<=180,c=o>=-90&&n<=90;return s&&c||console.log("Warning: The coordinates may not be within valid geographic ranges."),i&&s&&c},exports.coordinatesCount=function(t){let e=0;return p(t,(()=>e++)),e},exports.debounce=i,exports.debugLog=function(t){return!1},exports.deepmerge=function t(e,o,r=!1){let n=e;const i=o,s=Array.isArray(i);let c=s&&[]||{};return s&&Array.isArray(i)?r?(n=n||[],c=c.concat(n),i.forEach(((e,o)=>{void 0===c[o]?c[o]=e:"object"==typeof e?c[o]=t(n[o],e,r):-1===n.indexOf(e)&&c.push(e)}))):c=i:(n&&"object"==typeof n&&Object.keys(n).forEach((function(t){c[t]=n[t]})),Object.keys(i).forEach((function(e){c[e]="object"==typeof i[e]&&i[e]&&"object"==typeof n[e]&&"object"==typeof i[e]?t(n[e],i[e],r):i[e]}))),c},exports.defined=s,exports.degrees2Radian=function(t){return t*Math.PI/180},exports.degrees2meters=function(t,e){e=e>85.06?85.06:e<-85.06?-85.06:e;const o=20037508.34*t/180;let r=Math.log(Math.tan((90+e)*Math.PI/360))/(Math.PI/180);return r=20037508.34*r/180,[o,r]},exports.deprecatedMapClick=function(t){if(!t.lngLat&&t.latLng){t.lngLat=[t.latLng.lng,t.latLng.lat]}return t},exports.deprecatedWarn=function(t){console.warn(`DEPRECATED WARN: ${t}`)},exports.eachCoordinates=p,exports.eachGeometry=f,exports.fixUrlStr=function(t){return t.replace(/([^:]\/)\/+/g,"$1")},exports.flatten=function(t,e={}){var o;const r=null==(o=e.flatArray)||o,n={};return function t(e,o){if(Object(e)!==e)n[o]=e;else if(Array.isArray(e)&&r){const r=e.length;for(let n=0;n<r;n++)t(e[n],o+"["+n+"]");0===r&&(n[o]=[])}else{let r=!0;for(const n in e)r=!1,t(e[n],o?o+"."+n:n);r&&o&&(n[o]={})}}(t,""),n},exports.full=function(t){return"string"==typeof t?!!t:s(t)},exports.getBoundsCoordinates=y,exports.getBoundsFeature=function(t){return{type:"Feature",properties:{},geometry:l(t)}},exports.getBoundsPolygon=l,exports.getCircleFeature=function(t,e,o=10,r=6){return{type:"Feature",properties:{},geometry:{type:"Polygon",coordinates:[h(t,e,o,r)]}}},exports.getCirclePolygonCoordinates=h,exports.getCoordinates=function(t){const e=[];return p(t,(t=>e.push(t))),e},exports.getGlobalVariable=function(){return P?window:global},exports.getIdentifyRadius=function(t,e,o){return(o=null!=o?o:10)*(40075016.686*Math.abs(Math.cos(180*t[1]/Math.PI))/Math.pow(2,e+8))*5e-4},exports.getPolygons=function(t){const e=[];return f(t,(t=>{if("coordinates"in t)if("Polygon"===t.type)t.coordinates.forEach((t=>e.push(t)));else if("MultiPolygon"===t.type)for(const o of t.coordinates)for(const t of o)e.push(t);return t})),e},exports.getSquarePolygonCoordinates=function(t,e,o=10){const r=o/u*x,n=r/Math.cos(e*b),i=[t-n,e+r];return[i,[t+n,e+r],[t+n,e-r],[t-n,e-r],i]},exports.isAnyJson=A,exports.isArray=E,exports.isBrowser=P,exports.isJsonArray=v,exports.isJsonMap=w,exports.isLngLatBoundsArray=function(t){return Array.isArray(t)&&4===t.length&&t.every((t=>"number"==typeof t))},exports.isObjKey=M,exports.isObject=C,exports.keyInObj=function(t,e){return M(t,e)},exports.latLngToLngLatArray=function(t){return[t.lng,t.lat]},exports.lngLatArrayToLatLng=function(t){return{lat:t[1],lng:t[0]}},exports.meters2degrees=function(t,e){return[180*t/20037508.34,360*Math.atan(Math.exp(e*Math.PI/20037508.34))/Math.PI-90]},exports.mixinProperties=function(t,e,o){o.forEach((o=>{const r=Object.getOwnPropertyDescriptor(e.prototype,o);r&&Object.defineProperty(t.prototype,o,r)}))},exports.numberWithSpaces=function(t){const e=t.toString().split(".");return e[0]=e[0].replace(/\B(?=(\d{3})+(?!\d))/g," "),e.join(".")},exports.objectAssign=function(t,...e){for(const o of e)for(const e of Object.getOwnPropertyNames(o))t[e]=o[e]},exports.objectDeepEqual=j,exports.objectRemoveEmpty=function t(e){const o={};return Object.keys(e).forEach((r=>{e[r]instanceof Array||e[r]!==Object(e[r])?void 0!==e[r]&&(o[r]=e[r]):o[r]=t(e[r])})),o},exports.reEscape=function(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")},exports.round=function(t,e){const o=e?Number("1e+"+e):1;return Math.round((t+Number.EPSILON)*o)/o},exports.sleep=function(t=0){return new Promise((e=>setTimeout(e,t)))},exports.type=O,exports.unflatten=function(t){if(Object(t)!==t||Array.isArray(t))return t;const e=/\.?([^.[\]]+)|\[(\d+)\]/g,o={};for(const r in t){let n,i=o,s="";for(;n=e.exec(r);)i=i[s]||(i[s]=n[2]?[]:{}),s=n[2]||n[1];i[s]=t[r]}return o[""]||o},exports.updateUrlParams=function(t,e){const o=new URL(t),r=new URLSearchParams(o.search);Object.entries(e).forEach((([t,e])=>{void 0===e?r.delete(t):r.set(t,e)})),r.set("timestamp",String((new Date).getTime()));const n=[...r.entries()].map((([t,e])=>`${t}=${e}`)).join("&");return`${o.origin}${o.pathname}?${n}`};
//# sourceMappingURL=utils.cjs.prod.js.map
